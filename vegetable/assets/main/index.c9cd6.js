System.register("chunks:///_virtual/ActivityView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator},null,function(t){o=t.ViewBaseComponent}],execute:function(){var c;e._RF.push({},"54782JdEGJIspuicX3mvgNM","ActivityView",void 0);var s=n.ccclass;n.property,t("ActivityView",s("ActivityView")(c=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.onInit=function(){},n.onEvent=function(){},n.onClickClose=function(){this.closeView()},e}(o))||c);e._RF.pop()}}}));

System.register("chunks:///_virtual/AnimationClipManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./AppConst2.ts","./ResourceLoader.ts"],(function(e){"use strict";var t,n,o,r,i;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){o=e.cclegacy},null,function(e){r=e.CLIPS},function(e){i=e.resourceLoader}],execute:function(){o._RF.push({},"062927k+JNEQ7sjmDnbRRY7","AnimationClipManager",void 0);e("animationClipManager",new(function(){function e(){this.hero={},this.soldier={},this.common={}}var o=e.prototype;return o.init=function(){var e=t(n().mark((function e(){var t,o,s,a,c,u,l,m,h;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=r,e.t0=n().keys(t);case 2:if((e.t1=e.t0()).done){e.next=40;break}if(o=e.t1.value,!(s=t[o]).big){e.next=16;break}e.t2=n().keys(s.big);case 7:if((e.t3=e.t2()).done){e.next=16;break}return a=e.t3.value,e.next=11,i.load(s.big[a]);case 11:c=e.sent,this.hero[o]||(this.hero[o]=[]),this.hero[o].push(c),e.next=7;break;case 16:if(!s.small){e.next=27;break}e.t4=n().keys(s.small);case 18:if((e.t5=e.t4()).done){e.next=27;break}return u=e.t5.value,e.next=22,i.load(s.small[u]);case 22:l=e.sent,this.soldier[o]||(this.soldier[o]=[]),this.soldier[o].push(l),e.next=18;break;case 27:if(!s.common){e.next=38;break}e.t6=n().keys(s.common);case 29:if((e.t7=e.t6()).done){e.next=38;break}return m=e.t7.value,e.next=33,i.load(s.common[m]);case 33:h=e.sent,this.common[o]||(this.common[o]=[]),this.common[o].push(h),e.next=29;break;case 38:e.next=2;break;case 40:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),o.getCommonClip=function(e){return this.common[e]},o.getHeroClip=function(e,t){var n;return[].concat(null!=(n=this.getCommonClip(t))?n:this.hero[""+e])},o.getSoldierClip=function(e,t,n){var o;return void 0===n&&(n=!1),[].concat(null!=(o=this.getCommonClip(t))?o:n?this.hero[""+e]:this.soldier[""+e])},o.getMonsterClip=function(e){var t;return[].concat(null!=(t=this.getCommonClip(e))?t:[])},e}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/app.ts",["cc","./live-custom.ts","./appComponents.ts","./NetworkManager.ts"],(function(t){"use strict";var a,n;return{setters:[function(t){a=t.cclegacy},null,null,function(t){n=t.networkManager}],execute:function(){t({getAnchorRankData:function(t){return n.post("/mghy/get_anchor_rank_data",t)},getRankData:function(t){return n.post("/mghy/get_rank_data",t)},getUserData:function(t){return n.post("/mghy/get_user_data",t)},saveAnchorData:function(t){return n.post("/mghy/save_anchor_data",t)},saveUserData:function(t){return n.post("/mghy/save_user_data",t)}}),a._RF.push({},"24ad2jbn7xPF77vKW6yVPXm","app",void 0),a._RF.pop()}}}));

System.register("chunks:///_virtual/app2.ts",["cc","./NetworkManager.ts","./appComponents3.ts"],(function(e){"use strict";var n,t;return{setters:[function(e){n=e.cclegacy},function(e){t=e.networkManager},null],execute:function(){e({anchorLogin:function(e){return t.post("/user/anchorlogin",e)},checkGiftCode:function(e){return t.post("/user/check_gift_code",e)},getToken:function(e){return t.post("/user/getToken",e)},platformUserLogin:function(e){return t.post("/user/puserlogin",e)},savePlatformUser:function(e){return t.post("/user/save_platform_user",e)}}),n._RF.push({},"d13deTCbnZLUZ5huz2DXn2P","app",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/app3.ts",["cc","./NetworkManager.ts"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.cclegacy},function(t){n=t.networkManager}],execute:function(){t({getGameConfig:function(t){return n.post("/config/games",t)},getTimestamp:function(t){return n.get("/config/get_timestamp",t)}}),e._RF.push({},"ddaf5HJSj9PwbA/jWvp/cDg","app",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/App4.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig.ts","./live-custom.ts","./AppConfig.ts","./FloatTips.ts","./LoadingView.ts","./WaitingView.ts","./Logger.ts","./ScheduleManager.ts","./UIManager.ts","./Tools.ts"],(function(e){"use strict";var i,t,n,r,o,a,l,s,u,p,c,f,g,b,w,d,v,h,y,m,L,V,z,A;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,n=e.initializerDefineProperty,r=e.assertThisInitialized,o=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){l=e.cclegacy,s=e._decorator,u=e.Node,p=e.JsonAsset,c=e.Label,f=e.Sprite,g=e.Component,b=e.director},function(e){w=e.VIEW_UID},null,function(e){d=e.appConfig},function(e){v=e.FloatTips},function(e){h=e.LoadingView},function(e){y=e.WaitingView},function(e){m=e.Logger,L=e.LogLevel},function(e){V=e.scheduleManager},function(e){z=e.uiManager},function(e){A=e.tools}],execute:function(){var _,E,C,I,M,N,R,j,P,S,T,k,D,F,G,U,W,x,q;l._RF.push({},"49d4dYRLwZNPLknyvC+jR35","App",void 0);var B=s.ccclass,H=s.property,J=new m("app");e("App",(_=B("App"),E=H(u),C=H(v),I=H(h),M=H(y),N=H(p),R=H(c),j=H(c),P=H([f]),_((k=i((T=function(e){function i(){for(var i,t=arguments.length,o=new Array(t),a=0;a<t;a++)o[a]=arguments[a];return i=e.call.apply(e,[this].concat(o))||this,n(i,"root",k,r(i)),n(i,"tips",D,r(i)),n(i,"loadingView",F,r(i)),n(i,"waitingView",G,r(i)),n(i,"version",U,r(i)),n(i,"errorLabel",W,r(i)),n(i,"versionLabel",x,r(i)),n(i,"bgGroup",q,r(i)),i}t(i,e);var l=i.prototype;return l.onLoad=function(){},l.start=function(){this.init()},l.init=function(){var e=o(a().mark((function e(){var i,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:b.addPersistRootNode(this.node),V.init(this),z.init({sceneNode:this.root,tips:this.tips,waitingView:this.waitingView,loadingView:this.loadingView}),this._version(),t=A.queryParams(),d.platform=null!=(i=t.platform)?i:d.platform,J.debug("当前平台: "+d.platform),z.loadScene(w.MAIN_SCENE);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),l._version=function(){var e=this;Object.keys(this.version.json).forEach((function(i){return d[i]=e.version.json[i]})),this.versionLabel.string="v"+d.version,"test"!==d.mode&&(m.LEVEL=L.Error)},i}(g)).prototype,"root",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),D=i(T.prototype,"tips",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),F=i(T.prototype,"loadingView",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),G=i(T.prototype,"waitingView",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),U=i(T.prototype,"version",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),W=i(T.prototype,"errorLabel",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),x=i(T.prototype,"versionLabel",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),q=i(T.prototype,"bgGroup",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=T))||S));l._RF.pop()}}}));

System.register("chunks:///_virtual/appComponents.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"17c7dN3kGpN350+ArDhRkMe","appComponents",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/appComponents2.ts",["cc"],(function(){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){t._RF.push({},"27a9aJbnbBBnaSNqz5al+1U","appComponents",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/appComponents3.ts",["cc"],(function(){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){t._RF.push({},"a0c1ehFmNFDW5nzuqACY88D","appComponents",void 0),t._RF.pop()}}}));

System.register("chunks:///_virtual/AppConfig.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){e("Platform",void 0),t._RF.push({},"2e1a5rdztBHcrgCKEO972o+","AppConfig",void 0);var i,r=e("appConfig",{version:"0.0.1",gameID:"",remoteCfg:"",platform:"test",apiDomain:"",gameKey:"",mode:"test"});Object.defineProperty(r,"isDebug",{get:function(){return"test"===r.mode}}),function(e){e[e.NONE=0]="NONE",e[e.DOU_YIN=1e3]="DOU_YIN",e[e.Bilibili=1002]="Bilibili",e[e.KUAI_SHOU=1001]="KUAI_SHOU"}(i||(i=e("Platform",{}))),Object.defineProperty(r,"platformID",{get:function(){switch(r.platform){case"douyin":return i.DOU_YIN;case"kuaishou":return i.KUAI_SHOU;case"bilibili":return i.Bilibili;default:return i.NONE}},configurable:!1}),t._RF.pop()}}}));

System.register("chunks:///_virtual/AppConst.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d11a72YoOJKY44ku5JGBNj/","AppConst",void 0);var a=t("mapItemWidth",96),p=t("mapItemHeight",135),s=t("mapItemSpaceX",6),m=t("mapItemSpaceY",3),n=t("mapItemCol",5),c=t("mapItemRow",5),r=(t("mapTotalCount",n*c),t("mapItemAddSpaceWidth",a+s)),o=t("mapItemAddSpaceHeight",p+m);t("mapMaxWidth",r*n),t("mapMaxHeight",o*c),t("maxNumber",7),t("stepMap",[{step:1,start:1,end:1},{step:5,start:1,end:3},{step:10,start:2,end:4},{step:20,start:3,end:6},{step:30,start:4,end:7}]),t("levelMap",[{level:40,numRate:[40,20,15,10,8,7],typeRate:[40,30,30],score:3500,time:1,collectCount:[10,5,5]}]),t("typeCount",3),t("typeUniversal",4),t("typeScore",[100,200,500]),t("listCardCount",4);e._RF.pop()}}}));

System.register("chunks:///_virtual/AppConst2.ts",["cc"],(function(a){"use strict";var n;return{setters:[function(a){n=a.cclegacy}],execute:function(){n._RF.push({},"f4f89E/nxpIgoGC7oA+Po7t","AppConst",void 0);a("FRAME_RATE",60),a("CAMP",[{ID:101,City:"101",Name:"橙",Main:!0,InitCamp:101},{ID:102,City:"102",Name:"黄",Main:!0,InitCamp:102},{ID:103,City:"103",Name:"绿",Main:!0,InitCamp:103},{ID:104,City:"104",Name:"蓝",Main:!0,InitCamp:104},{ID:1,City:"1",Name:"1",Main:!1,InitCamp:0},{ID:2,City:"2",Name:"2",Main:!1,InitCamp:0},{ID:3,City:"3",Name:"3",Main:!1,InitCamp:0},{ID:4,City:"4",Name:"4",Main:!1,InitCamp:0},{ID:5,City:"5",Name:"5",Main:!1,InitCamp:0}]),a("CAMP_MAIN",[101,102,103,104]),a("CAMP_ALL",[101,102,103,104,1,2,3,4,5]),a("ROLE_STATE",{IDLE:"idle",MOVE:"move",ATTACK:"attack",SPAWN:"spawn",DEATH:"death"}),a("NORMAL_SOLDIER_NAME","小蘑菇"),a("CAMP_COLOR",{101:"#fe6d65",102:"#fdba00",103:"#30d361",104:"#5c92ff"}),a("STAR_CAMP_COLOR",{101:"#B10904",102:"#765100",103:"#005F1A",104:"#0F278A"}),a("CAMP_MAIN_NAME",{101:"橙",102:"黄",103:"绿",104:"蓝"}),a("CAMP_NAME",{101:"橙阵营",102:"黄阵营",103:"绿阵营",104:"蓝阵营",1:"据点1",2:"据点2",3:"据点3",4:"据点4",5:"据点5"}),a("CAMP_RADIAN",{101:[45,-135],102:[-45,-225],103:[-45,135],104:[-135,-315]}),a("PETAL_ATTACH_NAME",{101:"hua_hong",102:"hua_huang",103:"hua_lv",104:"hua_lan"}),a("GRID_SIZE",{width:36,height:40}),a("CLIPS",{101:{big:{attack:"animation/role/damoguhong/attack",move:"animation/role/damoguhong/move",idle:"animation/role/damoguhong/idle",spawn:"animation/role/damoguhong/shuaxin"},small:{attack:"animation/role/xiaomoguhong/attack",move:"animation/role/xiaomoguhong/move",idle:"animation/role/xiaomoguhong/idle",spawn:"animation/role/xiaomoguhong/shuaxin"}},102:{big:{attack:"animation/role/damoguhuang/attack",move:"animation/role/damoguhuang/move",idle:"animation/role/damoguhuang/idle",spawn:"animation/role/damoguhuang/shuaxin"},small:{attack:"animation/role/xiaomoguhuang/attack",move:"animation/role/xiaomoguhuang/move",idle:"animation/role/xiaomoguhuang/idle",spawn:"animation/role/xiaomoguhuang/shuaxin"}},103:{big:{attack:"animation/role/damogulv/attack",move:"animation/role/damogulv/move",idle:"animation/role/damogulv/idle",spawn:"animation/role/damogulv/shuaxin"},small:{attack:"animation/role/xiaomogulv/attack",move:"animation/role/xiaomogulv/move",idle:"animation/role/xiaomogulv/idle",spawn:"animation/role/xiaomogulv/shuaxin"}},104:{big:{attack:"animation/role/damogulan/attack",move:"animation/role/damogulan/move",idle:"animation/role/damogulan/idle",spawn:"animation/role/damogulan/shuaxin"},small:{attack:"animation/role/xiaomogulan/attack",move:"animation/role/xiaomogulan/move",idle:"animation/role/xiaomogulan/idle",spawn:"animation/role/xiaomogulan/shuaxin"}},xianrenzhang:{common:{attack:"animation/role/xianrenzhang/attack",move:"animation/role/xianrenzhang/move",idle:"animation/role/xianrenzhang/idle",spawn:"animation/role/xianrenzhang/shuaxin"}},daxianrenzhang:{common:{attack:"animation/role/daxianrenzhang/attack",move:"animation/role/daxianrenzhang/move",idle:"animation/role/daxianrenzhang/idle",spawn:"animation/role/daxianrenzhang/shuaxin"}},nangua:{common:{attack:"animation/role/nangua/attack",move:"animation/role/nangua/move",idle:"animation/role/nangua/idle",spawn:"animation/role/nangua/shuaxin"}},congtou:{common:{attack:"animation/role/congtou/attack",move:"animation/role/congtou/move",idle:"animation/role/congtou/idle",spawn:"animation/role/congtou/shuaxin"}},feixingguai:{common:{attack:"animation/role/feixingguai/attack",move:"animation/role/feixingguai/move",idle:"animation/role/feixingguai/idle",spawn:"animation/role/feixingguai/shuaxin"},isFly:{}},lajiao:{common:{attack:"animation/role/lajiao/attack",move:"animation/role/lajiao/move",idle:"animation/role/lajiao/idle",spawn:"animation/role/lajiao/shuaxin"}},dumogu:{common:{attack:"animation/role/dumogu/attack",move:"animation/role/dumogu/move",idle:"animation/role/dumogu/idle",spawn:"animation/role/dumogu/shuaxin"}},mogunvhai:{common:{attack:"animation/role/mogunvhai/attack",move:"animation/role/mogunvhai/move",idle:"animation/role/mogunvhai/idle",spawn:"animation/role/mogunvhai/shuaxin"}},zongzi:{common:{attack:"animation/role/zongzi/attack",move:"animation/role/zongzi/move",idle:"animation/role/zongzi/idle",spawn:"animation/role/zongzi/shuaxin"}}}),a("PETAL_SEQUENCE",[5,6,1,2,3,4]),a("MUSHROOM_CONFIG_ID",{BIG:{101:37,102:38,103:39,104:40},SMALL:5});n._RF.pop()}}}));

System.register("chunks:///_virtual/AppEnum.ts",["cc"],(function(e){"use strict";var t;return{setters:[function(e){t=e.cclegacy}],execute:function(){var c,a;e({EResult:void 0,EventType:void 0}),t._RF.push({},"4e02dJKfctAkpM4DWhRZaZ0","AppEnum",void 0),function(e){e[e.NORMAL=0]="NORMAL",e[e.FAIL=1]="FAIL",e[e.WIN_1=2]="WIN_1",e[e.WIN_2=3]="WIN_2"}(c||(c=e("EResult",{}))),function(e){e.createCard="createCard",e.updateScore="updateScore",e.placeCompleted="placeCompleted",e.flyHideAni="flyHideAni",e.startGame="startGame",e.closeGame="closeGame"}(a||(a=e("EventType",{}))),t._RF.pop()}}}));

System.register("chunks:///_virtual/AppEnum2.ts",["cc"],(function(E){"use strict";var R;return{setters:[function(E){R=E.cclegacy}],execute:function(){var T,O,_,N,L,A,P,I,n,S,i,Y;E({BUFF_TYPE:void 0,BULLET_TYPE:void 0,CAMP_FLOAT_TYPE:void 0,CAMP_TYPE:void 0,COLLIDER:void 0,FREE_SOLDIER_TYPE:void 0,GAME_TYPE:void 0,JOIN_TYPE:void 0,RANK_TYPE:void 0,ROLE_TYPE:void 0,SKILL_TYPE:void 0,SPECAIL_TYPE:void 0}),R._RF.push({},"8f6a6eVHFRPDpHnljeGdUaJ","AppEnum",void 0),function(E){E[E.ROUTINE=0]="ROUTINE",E[E.TWO_VS_TWO=1]="TWO_VS_TWO",E[E.ONE_VS_THREE=2]="ONE_VS_THREE"}(T||(T=E("GAME_TYPE",{}))),function(E){E[E.MIDTABING=0]="MIDTABING",E[E.TABING=1]="TABING",E[E.MIDMONSTER=2]="MIDMONSTER",E[E.HERO=3]="HERO",E[E.SOLDIER=4]="SOLDIER"}(O||(O=E("COLLIDER",{}))),function(E){E[E.NONE=0]="NONE",E[E.ENEMY=1]="ENEMY",E[E.FRIENDLY=2]="FRIENDLY"}(_||(_=E("ROLE_TYPE",{}))),function(E){E[E.TRAP_VERTIGO=0]="TRAP_VERTIGO",E[E.TRAP_EXPLOSION=1]="TRAP_EXPLOSION",E[E.SPEED=2]="SPEED"}(N||(N=E("BUFF_TYPE",{}))),function(E){E[E.NONE=0]="NONE",E[E.RED=101]="RED",E[E.YELLOW=102]="YELLOW",E[E.GREEN=103]="GREEN",E[E.BLUE=104]="BLUE"}(L||(L=E("CAMP_TYPE",{}))),function(E){E[E.KILL_COUNT=0]="KILL_COUNT",E[E.STAR_UP_NORMAL=1]="STAR_UP_NORMAL",E[E.STAR_HALF_SCREEN=2]="STAR_HALF_SCREEN"}(A||(A=E("CAMP_FLOAT_TYPE",{}))),function(E){E[E.SPAWN_FREE_SOLDIER=1]="SPAWN_FREE_SOLDIER"}(P||(P=E("SKILL_TYPE",{}))),function(E){E[E.NORMAL=999999]="NORMAL"}(I||(I=E("FREE_SOLDIER_TYPE",{}))),function(E){E[E.NORMAL=0]="NORMAL",E[E.GROUND=1]="GROUND",E[E.FLY=2]="FLY",E[E.BIG=3]="BIG"}(n||(n=E("SPECAIL_TYPE",{}))),function(E){E[E.NONE=0]="NONE",E[E.TARTGET=1]="TARTGET",E[E.UNDERFOOT=2]="UNDERFOOT"}(S||(S=E("BULLET_TYPE",{}))),function(E){E[E.CUR=0]="CUR",E[E.WORLD=1]="WORLD",E[E.WINCOUNT=2]="WINCOUNT",E[E.MASTER_SCORE=3]="MASTER_SCORE"}(i||(i=E("RANK_TYPE",{}))),function(E){E[E.SELECT=0]="SELECT",E[E.RANDOM=1]="RANDOM"}(Y||(Y=E("JOIN_TYPE",{}))),R._RF.pop()}}}));

System.register("chunks:///_virtual/AppType.ts",["cc"],(function(){"use strict";var c;return{setters:[function(e){c=e.cclegacy}],execute:function(){c._RF.push({},"668ccmU2jhLn5cCx3Yhdwwl","AppType",void 0),c._RF.pop()}}}));

System.register("chunks:///_virtual/AppType2.ts",["cc"],(function(){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"d09f51B+61DAoyLdbKl9pae","AppType",void 0),e._RF.pop()}}}));

System.register("chunks:///_virtual/AStarPath.ts",["cc"],(function(t){"use strict";var i;return{setters:[function(t){i=t.cclegacy}],execute:function(){i._RF.push({},"ebe5bZOwU1KbKPFYbi/WzdN","AStarPath",void 0);t("AStarPath",function(){function t(t,i){this.openList=[],this.closeList=[],this.mapSize=t,this.canMoveCallback=i}var i=t.prototype;return i.isEndPoint=function(t){return this.targetPoint.x===t.x&&this.targetPoint.y===t.y},i.isStartPoint=function(t){return this.startPoint.x===t.x&&this.startPoint.y===t.y},i.isInCloseList=function(t,i){return this.closeList.some((function(s){return s.x===t&&s.y===i}))},i.isValidPoint=function(t,i){return!(t<0||i<0||t>this.mapSize.x-1||i>this.mapSize.y-1||!this.canMoveCallback(t,i))},i.baseCost=function(t,i,s){return t===s.x||i===s.y?1:Math.SQRT2},i.heuristicCost=function(t,i){var s=Math.abs(t-this.targetPoint.x),n=Math.abs(i-this.targetPoint.y),e=Math.max(s,n),o=Math.min(s,n);return Math.SQRT2*o+(e-o)},i.totalCost=function(t,i,s){return this.baseCost(t,i,s)+this.heuristicCost(t,i)},i.processPoint=function(t,i,s){if(this.isValidPoint(t,i)&&!this.isInCloseList(t,i)){for(var n=null,e=0;e<this.openList.length;e++)if(this.openList[e].x===t&&this.openList[e].y===i){n=this.openList[e];break}if(n){var o=s.G+this.baseCost(t,i,s);o<n.G&&(n.G=o,n.F=n.G+n.H,n.parent=s)}else this.openList.push(this.newPoint(t,i,s))}},i.buildPath=function(t){for(var i=[],s=t;s.parent;)i.unshift(s),s=s.parent;return i},i.selectPointInOpenList=function(){for(var t=Number.MAX_VALUE,i=-1,s=0;s<this.openList.length;s++)this.openList[s].F<t&&(t=this.openList[s].F,i=s);return i},i.newPoint=function(t,i,s){var n=0,e=0;return s&&(n=this.baseCost(t,i,s)+s.G,e=this.heuristicCost(t,i)),{x:t,y:i,parent:s,H:e,G:n,F:n+e}},i.search=function(t,i){for(this.startPoint=this.newPoint(t.x,t.y),this.targetPoint=this.newPoint(i.x,i.y),this.openList.length=0,this.closeList.length=0,this.openList.push(this.startPoint);;){var s=this.selectPointInOpenList();if(-1===s)return[];var n=this.openList[s];if(this.isEndPoint(n))return this.buildPath(n);this.openList.splice(s,1),this.closeList.push(n),this.processPoint(n.x-1,n.y+1,n),this.processPoint(n.x-1,n.y,n),this.processPoint(n.x-1,n.y-1,n),this.processPoint(n.x,n.y-1,n),this.processPoint(n.x+1,n.y+1,n),this.processPoint(n.x+1,n.y,n),this.processPoint(n.x+1,n.y-1,n),this.processPoint(n.x,n.y+1,n)}},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/atlas.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,s;return{setters:[function(t){e=t.inheritsLoose},function(t){i=t.cclegacy,s=t.Texture2D}],execute:function(){i._RF.push({},"28a7fR/kiFNgYAu/IvOglkL","atlas",void 0);t("Atlas",function(){function t(t,e){this._texture=void 0,this._width=void 0,this._height=void 0,this._x=void 0,this._y=void 0,this._nexty=void 0,this._innerTextureInfos={},this._innerSpriteFrames=void 0,this._count=void 0;var i=new n;i.initWithSize(t,e),this._texture=i,this._width=t,this._height=e,this._x=2,this._y=2,this._nexty=2,this._innerTextureInfos={},this._innerSpriteFrames=[],this._count=0}var e=t.prototype;return e.insertSpriteFrame=function(t){var e=t.customizeMd5,i=t.rect,s=t.texture,n=this._innerTextureInfos[e||s.getId()],r=i.x,h=i.y;if(n)r+=n.x,h+=n.y;else{var o=s.width,u=s.height;if(this._x+o+2>this._width&&(this._x=2,this._y=this._nexty),this._y+u+2>this._nexty&&(this._nexty=this._y+u+2),this._nexty>this._height)return null;this._texture.drawTextureAt(s.image,this._x,this._y),this._innerTextureInfos[e||s.getId()]={x:this._x,y:this._y,texture:s},this._count++,r+=this._x,h+=this._y,this._x+=o+2}var f={x:r,y:h,texture:this._texture};return!n&&this._innerSpriteFrames.push(t),f},e.deleteInnerTexture=function(t,e){e&&this._innerTextureInfos[t||e.getId()]&&(delete this._innerTextureInfos[t||e.getId()],this._count--)},e.isEmpty=function(){return this._count<=0},e.reset=function(){this._x=2,this._y=2,this._nexty=2;for(var t=this._innerSpriteFrames,e=0,i=t.length;e<i;e++){var s=t[e];s.isValid&&s._resetDynamicAtlasFrame()}this._innerSpriteFrames.length=0,this._innerTextureInfos={}},e.destroy=function(){this.reset(),this._texture.destroy()},t}());var n=t("DynamicAtlasTexture",function(t){function i(){return t.apply(this,arguments)||this}e(i,t);var s=i.prototype;return s.initWithSize=function(t,e,i){void 0===i&&(i=35),this.reset({width:t,height:e,format:i})},s.drawTextureAt=function(t,e,i){var s=this.getGFXTexture();if(t&&s){var n=this._getGFXDevice();if(n){var h=new r;h.texOffset.x=e,h.texOffset.y=i,h.texExtent.width=t.width,h.texExtent.height=t.height,n.copyTexImagesToTexture([t.data],s,[h])}else console.warn("Unable to get device")}},i}(s)),r=t("BufferTextureCopy",function(){function t(t,e,i,s,n,r){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),void 0===s&&(s=new h),void 0===n&&(n=new o),void 0===r&&(r=new u),this.buffOffset=t,this.buffStride=e,this.buffTexHeight=i,this.texOffset=s,this.texExtent=n,this.texSubres=r}return t.prototype.copy=function(t){return this.buffOffset=t.buffOffset,this.buffStride=t.buffStride,this.buffTexHeight=t.buffTexHeight,this.texOffset.copy(t.texOffset),this.texExtent.copy(t.texExtent),this.texSubres.copy(t.texSubres),this},t}()),h=t("Offset",function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=0),this.x=t,this.y=e,this.z=i}return t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.z=t.z,this},t}()),o=t("Extent",function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),this.width=t,this.height=e,this.depth=i}return t.prototype.copy=function(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this},t}()),u=t("TextureSubresLayers",function(){function t(t,e,i){void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=1),this.mipLevel=t,this.baseArrayLayer=e,this.layerCount=i}return t.prototype.copy=function(t){return this.mipLevel=t.mipLevel,this.baseArrayLayer=t.baseArrayLayer,this.layerCount=t.layerCount,this},t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/AudioManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ResourceLoader.ts","./Logger.ts","./LocalStorageManager.ts"],(function(t){"use strict";var i,e,o,u,a,s,c,n;return{setters:[function(t){i=t.createClass},function(t){e=t.cclegacy,o=t.AudioSource,u=t.isValid},function(t){a=t.resourceLoader},function(t){s=t.logger},function(t){c=t.localStorageMgr,n=t.SAVE_TAG}],execute:function(){var l,r,h,_,S;t({AUDIO_STATE:void 0,BGM_TYPE:void 0,MUSIC_STATE:void 0,SFX_TYPE:void 0}),e._RF.push({},"049277a7etAxowtiXJb5JwI","AudioManager",void 0),function(t){t[t.NONE=0]="NONE",t[t.NORMAL=1]="NORMAL",t[t.FIGHT=2]="FIGHT"}(l||(l=t("BGM_TYPE",{}))),function(t){t[t.BUTTON_CLICK=0]="BUTTON_CLICK",t[t.BUTTON_CLOSE=1]="BUTTON_CLOSE"}(r||(r=t("SFX_TYPE",{}))),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(h||(h=t("MUSIC_STATE",{}))),function(t){t[t.OFF=0]="OFF",t[t.ON=1]="ON"}(_||(_=t("AUDIO_STATE",{}))),function(t){t[t.NONE=0]="NONE",t[t.NORMAL=1]="NORMAL"}(S||(S={}));var f=new Map,O=new Map,g=[{type:l.NORMAL,url:"music/bgm/bgm",loop:!0}],m=[];g.forEach((function(t){f.set(t.type,t)})),m.forEach((function(t){O.set(t.type,t)}));var d=function(){var t=e.prototype;function e(){this._currBGM=l.NONE,this._musicState=h.OFF,this._audioState=_.OFF,this._musicVolume=1,this._audioVolume=1,this._isPlaying=!1,this._music=null}return t.getBGMOption=function(t){return f.get(t)},t.getEffectOption=function(t){return O.get(t)},t.isPlaying=function(){return this._isPlaying},t.init=function(t){this._music=t,this._initMusicState(),this._initAudioState()},t._initMusicState=function(){var t;c.getLocalStorage(n.MUSIC_STATE)==h.OFF?(c.setLocalStorage(n.MUSIC_STATE,h.OFF),this._musicState=h.OFF):(c.setLocalStorage(n.MUSIC_STATE,h.ON),this._musicState=h.ON);var i=null!=(t=c.getLocalStorage(n.MUSIC_VOLUME))?t:1;c.setLocalStorage(n.MUSIC_VOLUME,i),this._musicVolume=i},t._initAudioState=function(){var t;c.getLocalStorage(n.AUDIO_STATE)==_.OFF?(c.setLocalStorage(n.AUDIO_STATE,_.OFF),this._audioState=_.OFF):(c.setLocalStorage(n.AUDIO_STATE,_.ON),this._audioState=_.ON);var i=null!=(t=c.getLocalStorage(n.AUDIO_VOLUME))?t:1;c.setLocalStorage(n.AUDIO_VOLUME,i),this._audioVolume=i},t._realPlay=function(t,i,e){this._music&&(this.isPlaying()&&this.stopMusic(),this._music.clip=t,this._music.volume=e,this._music.loop=i,this._music.play(),this._isPlaying=!0)},t.playMusic=function(t,i){var e=this;if(!(this._currBGM==t&&this.isPlaying()||this._musicState==h.OFF)){this._currBGM=t;var o=f.get(t),u=this._musicState?o.volume||this._musicVolume:0,c=A.getAudioClip(o.url);c?this._realPlay(c,o.loop,u):a.load(o.url).then((function(t){A.putAudioClip(o.url,t),e._realPlay(t,o.loop,u)})).catch((function(t){s.error("Can not load sound for url = "+o.url+". err = "+t)}))}},t.stopMusic=function(){this._music.stop(),this._isPlaying=!1},t.pauseMusic=function(){this.isPlaying()&&this._music.state==o.AudioState.PLAYING&&this._music.pause()},t.resumeMusic=function(){this.isPlaying()&&this._music.state!=o.AudioState.PLAYING&&this._music.play()},t.playSfx=function(t,i){var e=this,o=O.get(i);if(o){if(this._audioState==_.OFF||0==this._audioVolume)return;var u=o.volume||this._audioVolume,c=A.getAudioClip(o.url);c?(A.putAudioClip(o.url,c),this._realPlayEffect(t,c,!1,u)):a.load(o.url).then((function(i){e._realPlayEffect(t,i,!1,u)})).catch((function(t){s.error("Can not load sound for url = "+o.url+". err = "+t)}))}},t.play=function(t,i,e,o){var u=this;if(void 0===e&&(e=!1),this._audioState!=_.OFF&&0!=this._audioVolume){var c=o||this._audioVolume,n=A.getAudioClip(i);n?this._realPlayEffect(t,n,e,c):a.load(i).then((function(o){A.putAudioClip(i,o),u._realPlayEffect(t,o,e,c)})).catch((function(t){s.error("Can not load sound for url = "+i+". err = "+t)}))}},t._realPlayEffect=function(t,i,e,o){t.volume=o,t.loop=e||!1,t.playOneShot(i,1)},t.stopSfx=function(t){return!1},i(e,[{key:"musicState",set:function(t){this._musicState!=t&&(this._musicState=t,t==h.OFF?(this.stopMusic(),c.setLocalStorage(n.MUSIC_STATE,h.OFF)):(this.playMusic(this._currBGM||l.NORMAL,!0),c.setLocalStorage(n.MUSIC_STATE,h.ON))),this._musicState=t}},{key:"audioState",set:function(t){this._audioState!=t&&(this._audioState=t,t==_.OFF?c.setLocalStorage(n.AUDIO_STATE,_.OFF):c.setLocalStorage(n.AUDIO_STATE,_.ON)),this._audioState=t}},{key:"musicVolume",get:function(){var t;return null!=(t=this._musicVolume)?t:c.getLocalStorage(n.MUSIC_VOLUME)},set:function(t){t<0||t>1||(this._musicVolume=t,c.setLocalStorage(n.MUSIC_VOLUME,t),this._music.volume=t)}},{key:"audioStatus",get:function(){return{musicState:this._musicState,audioState:this._audioState,musicVolume:this._musicVolume,audioVolume:this._audioVolume}}},{key:"audioVolume",get:function(){var t;return null!=(t=this._audioVolume)?t:c.getLocalStorage(n.AUDIO_VOLUME)},set:function(t){t<0||t>1||(this._audioVolume=t,c.setLocalStorage(n.AUDIO_VOLUME,t))}}]),e}(),A=t("audioCache",new(function(){function t(){this._cache=null}var i=t.prototype;return i.getAudioClip=function(t){return t&&0!==t.length&&this._cache&&0!==this._cache.size?this._cache.get(t):null},i.putAudioClip=function(t,i){t&&(0!==t.length||u(i))&&(this._cache||(this._cache=new Map),this._cache.set(t,i))},i.clearByKey=function(t){this._cache&&0!==this._cache.size&&this._cache.has(t)&&(this._cache.delete(t),a.release(t))},i.clearAll=function(){this._cache&&0!==this._cache.size?(this._cache.forEach((function(t,i){a.release(i)})),this._cache.clear(),this._cache=null):this._cache=null},t}()));t("audioManager",new d);e._RF.pop()}}}));

System.register("chunks:///_virtual/BagView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},null,function(e){i=e.ViewBaseComponent}],execute:function(){var c;n._RF.push({},"835e7jXEUNI07QgbBAL8JLL","BagView",void 0);var s=o.ccclass;o.property,e("BagView",s("BagView")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/BgAdapter.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n,i,o,r,s,a,c;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator,o=t.isValid,r=t.Widget,s=t.screen,a=t.UITransform,c=t.Component}],execute:function(){var d;n._RF.push({},"439a9bwopZC3L1A0wFqpqJm","BgAdapter",void 0);var p=i.ccclass;i.property,t("default",p("BgAdapter")(d=function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.onLoad=function(){if(o(this.node)){var t=this.node.getComponent(r);if(!t||!t.enabled){var e=s.windowSize.width/s.windowSize.height,n=this.node.getComponent(a);e>n.width/n.height&&(n.width=n.height*e)}}},n}(c))||d);n._RF.pop()}}}));

System.register("chunks:///_virtual/BilibiliSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./EventCenter.ts","./NetworkManager.ts","./danmu.ts","./danmaku-websocket.min.mjs_cjs=&original=.js","./Logger.ts","./EventData2.ts","./danmaku-websocket.min.js"],(function(e){"use strict";var t,n,r,i,s,a,o,u,c,l,f;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){i=e.tools},function(e){s=e.eventCenter},function(e){a=e.networkManager},function(e){o=e.DanmuMessage,u=e.initToken},null,function(e){c=e.logger},function(e){l=e.EventID},function(e){f=e.default}],execute:function(){r._RF.push({},"edecdfN8F1IBqM/gKzYrxKw","BilibiliSDK",void 0);var p=e("BilibiliMessage",{Chat:"LIVE_OPEN_PLATFORM_DM",Gift:"LIVE_OPEN_PLATFORM_SEND_GIFT"});e("BilibiliSDK",function(){function e(e){this.ws=void 0,this.parsers={},this.anchor=void 0,this.cfg=e}var r=e.prototype;return r.init=function(e){return this.opts=e,a.onReceive(proto.sdk.bilibili.DanmuRoute.Push,proto.sdk.bilibili.PushMessage,this.pushMessage.bind(this)),this.parsers[p.Chat]=this.parseChat,this.parsers[p.Gift]=this.parseGift,this.parsers[o.Start]=this.parseStart,this},r.pushMessage=function(e){var t=this.parsers[e.pushType];t?t.call(this,JSON.parse(e.pushData)):s.fire(e.pushType,JSON.parse(e.pushData))},r.parseStart=function(e){var t=this,n=e.websocket_info,r=e.anchor_info;this.anchor={openID:""+r.uid,avatar:r.uface,nickname:r.uname,roomID:""+r.room_id};var i=n.auth_body,a=n.wss_link,u=a[0],l=a,p=JSON.parse(i);this.clearSocket(),this.ws=new f({url:u,urlList:l,customAuthParam:[{key:"key",value:p.key,type:"string"},{key:"group",value:p.group,type:"string"}],rid:p.roomid,protover:p.protover,uid:p.uid,onReceivedMessage:function(e){c.debug("收到弹幕消息：",e.cmd);var n=t.parsers[e.cmd];n&&n.call(t,e.data)},onHeartBeatReply:function(e){return c.debug("收到心跳回调",e)},onError:function(e){return c.error("error",e)},onListConnectError:function(){return t.closeDanmuSocket()}}),s.fire(o.Start,this.anchor)},r.clearSocket=function(){return!!this.ws&&(this.ws.destroy(),this.ws=null,!0)},r.closeDanmuSocket=function(){c.debug("弹幕连接关闭"),this.clearSocket()&&s.fire(o.Stop)},r.start=function(){var e=t(n().mark((function e(){var t,r;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.queryParams(),r=t.code){e.next=5;break}return s.fire(l.SHOW_ERROR_INFO,"参数错误: "+JSON.stringify(t)),e.abrupt("return",!1);case 5:return e.next=7,u(this.opts.gameID,this.opts.platform,{code:r,appID:""+this.cfg.appID,akID:this.cfg.akID});case 7:if(e.sent){e.next=11;break}return s.fire(l.SHOW_ERROR_INFO,"初始化token失败"),e.abrupt("return",!1);case 11:return e.next=13,a.websocketConnect(this.cfg.danmu+"/"+a.Token);case 13:return e.abrupt("return",e.sent);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),r.parseChat=function(e){var t,n;s.fire(o.Chat,{openID:""+e.uid,avatar:e.uface,nickname:e.uname,content:String(e.msg),level:null!=(t=e.guard_level)?t:0,fansLevel:null!=(n=e.fans_medal_level)?n:0,isMaster:""+e.uid===this.anchor.openID})},r.parseGift=function(e){var t,n,r,i;s.fire(o.Gift,{openID:""+e.uid,avatar:e.uface,nickname:e.uname,giftID:e.gift_id,giftNum:null!=(t=e.gift_num)?t:1,level:null!=(n=e.guard_level)?n:0,fansLevel:null!=(r=e.fans_medal_level)?r:0,diamond:null!=(i=e.price)?i:0,isMaster:""+e.uid===this.anchor.openID})},e}());r._RF.pop()}}}));

System.register("chunks:///_virtual/Browser.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventData2.ts","./EventCenter.ts","./danmu.ts"],(function(t){"use strict";var e,n,r,i,o,s,u;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy},function(t){i=t.EventID},function(t){o=t.eventCenter},function(t){s=t.DanmuMessage,u=t.initToken}],execute:function(){r._RF.push({},"7bee5J1L3ZGPo+4geYle1gG","Browser",void 0);t("Browser",function(){function t(){this.anchor={openID:"1111",nickname:"test",avatar:"",roomID:"1111"}}t.registerCmd=function(){window[s.Chat]=function(t){return o.fire(s.Chat,Object.assign({isMaster:"1111"==t.openID},t))},window[s.Gift]=function(t){return o.fire(s.Gift,Object.assign({isMaster:"1111"==t.openID},t))},window[s.Like]=function(t){return o.fire(s.Like,t)}};var r=t.prototype;return r.init=function(e){return this.opts=e,t.registerCmd(),this},r.start=function(){var t=e(n().mark((function t(){var e;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,u(this.opts.gameID,this.opts.platform);case 2:return(e=t.sent)?o.fire(s.Start,this.anchor):o.fire(i.SHOW_ERROR_INFO,"初始化token失败"),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t}());r._RF.pop()}}}));

System.register("chunks:///_virtual/ButtonExt.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o,r,c,u,l,a,s,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,c=t._decorator,u=t.Button,l=t.Enum,a=t.AudioSource,s=t.isValid,p=t.Component}],execute:function(){var f,d,h,C,y,k,b,_,m,T,v;t("SFX_TYPE",void 0),r._RF.push({},"05355WfffpO2YWLRFStQ05+","ButtonExt",void 0);var E,B=c.ccclass,g=c.property,L=c.requireComponent,O=c.disallowMultiple,A=c.menu;!function(t){t[t.BUTTON_CLICK=0]="BUTTON_CLICK",t[t.BUTTON_CLOSE=1]="BUTTON_CLOSE"}(E||(E=t("SFX_TYPE",{})));t("default",(f=B("ButtonExt"),d=L(u),h=A("自定义组件/ButtonExt"),C=g({displayName:"最小点击间隔"}),y=g({displayName:"按钮声音",tooltip:"按钮点击提示音",type:l(E),visible:function(){return this.clickAudio}}),k=g({displayName:"点击音效"}),f(b=O(b=d(b=h((m=i((_=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),c=0;c<e;c++)r[c]=arguments[c];return i=t.call.apply(t,[this].concat(r))||this,n(i,"clickDuration",m,o(i)),n(i,"clickSound",T,o(i)),n(i,"clickAudio",v,o(i)),i}e(i,t);var r=i.prototype;return r.onLoad=function(){var t=this;!this.node.getComponent(a)&&this.node.addComponent(a),this.node.on(u.EventType.CLICK,(function(){t._afterClick(),t._playClickAudioEffect()}))},r.onDestroy=function(){this.unscheduleAllCallbacks(),this.node.targetOff(this)},r._afterClick=function(){var t=this.node.getComponent(u);s(t)&&this.clickDuration>0&&t.interactable&&(t.interactable=!1,this.scheduleOnce((function(){t.interactable=!0}),this.clickDuration))},r._playClickAudioEffect=function(){this.clickAudio},i}(p)).prototype,"clickDuration",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return.5}}),T=i(_.prototype,"clickSound",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return E.BUTTON_CLICK}}),v=i(_.prototype,"clickAudio",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=_))||b)||b)||b)||b));r._RF.pop()}}}));

System.register("chunks:///_virtual/CardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},null,function(e){i=e.ViewBaseComponent}],execute:function(){var r;n._RF.push({},"ecb959IOIVM4JmX/EbgRzfo","CardView",void 0);var c=o.ccclass;o.property,e("CardView",c("CardView")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ConfigManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetworkManager.ts"],(function(r){"use strict";var n,t,e,a;return{setters:[function(r){n=r.asyncToGenerator,t=r.regeneratorRuntime},function(r){e=r.cclegacy},function(r){a=r.networkManager}],execute:function(){e._RF.push({},"7701fGrWudHo5/TaQ5xB10X","ConfigManager",void 0);r("configManager",new(function(){function r(){this._cfgCache={}}var e=r.prototype;return e.init=function(){var r=n(t().mark((function r(n){var e,c,u=this;return t().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,a.httpSend(n);case 2:if(e=r.sent){r.next=5;break}return r.abrupt("return",!1);case 5:return c=JSON.parse(e),Object.keys(c).forEach((function(r){return u._cfgCache[r]=c[r]})),r.abrupt("return",!0);case 8:case"end":return r.stop()}}),r)})));return function(n){return r.apply(this,arguments)}}(),e.getCfgMap=function(r,n){var t=this.getCfgArray(r),e={};return t.forEach((function(r){e[r[n]]=r})),e},e.getCfgArray=function(r){return this._cfgCache[r]},r}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/ContactConfig.ts",["cc"],(function(_){"use strict";var E;return{setters:[function(_){E=_.cclegacy}],execute:function(){E._RF.push({},"6731aKC4WdNFrTZN8nvwgzy","ContactConfig",void 0);_("contactConfig",{MONSTER_RATE_LESS:["1_3_10","2_2_15","3_1_20"],MONSTER_RATE_STANDARD:["1_3_10","2_2_15","3_1_20"],MONSTER_RATE_MORE:["1_3_10","2_2_15","3_1_20"],MONSTER_DISTANCE:30,MAX_ROBOT_COUNT:10,BATTLE_DURATION_OPTION:[5,10,20],ADD_ROBOT_DURATION:1,ADD_SOLDIER_DURATION:1,MAX_SOLDIER_COUNT:10,CITY_RANGE:30,SOLDIER_MOVE_INTERVAL:[.1,.1,.1],SOLDIER_MOVE_COUNT:["2_4","5_7","8_10"],SOLDIER_MOVE_LIMIT:[50,100,1e3],SOLDIER_STOP_MAX_COUNT:[20,50,100],SOLDIER_STOP_DISTANCE:[20,30,50],HERO_RELIVE_DURATION:15,HERO_MOVE_OFFSET:10,SOLDIER_MOVE_OFFSET_GEAR:[50,100,500],SOLDIER_MOVE_OFFSET:[20,25,30],TRAP_DAMAGE_RANGE:20,TRAP_TRIGGER_RANGE:20,TRAP_DAMAGE:10,TRAP_DURATION:5,TRAP_PLACE_RANGE:30,SOLDIER_ATTACK_INTERVAL:[.1,.1,.1],SOLDIER_ATTACK_COUNT:["2_5","2_5","5_10"],SOLDIER_ATTACK_LIMIT:[5,300,1e3],FLOAT_WIDTH_RANGE:[-20,20],FLOAT_HEIGHT_RANGE:[10,30],CITY_RECOVER_NUMBER:2,HERO_RECOVER_NUMBER:1,LIKE_REDUCE_TIME:1,INTERACTION_TIME:120,CARRY_SOLDIER_LIMIT:400,TOTAL_SOLDIER_LIMIT:2e3,CREATE_SOLDIER_MAX_LIMIT:[2e3,.5],WIN_STREAK_ADD_BASE:10,WIN_STREAK_ADD_ONE:5,WIN_STREAK_ADD_MAX:100,WIN_STREAK_ADD_COEFFICIENT:.2,ATTACK_SOLDIER_LIMIT:300,SHUAXIN_SOLDIER_LIMIT:2e3,CREATE_SOLDIER_LIMIT:35,SOLDIER_COUNTER_COUNT:[500,200],CITY_IDLE_SOLDIER_LIMIT:3500,RANDOM_IDLE_SOLDIER_LIMIT:5e3,RANK_HEAD_BOX:[1,3,10,100],KILL_NUMBER_FLOAT:[100,200,300],CONSUME_HIDE_SOLDIER_COUNT:100,CONSUME_HIDE_SOLDIER_INTERVAL:.3,SORT_COUNT:1e4,CREATE_TOTAL_SOLDIER_LIMIT:1e4,MOVE_SOLDIER_MIN_COUNT:500,KILL_COUNT:[10,20,30,50],KILL_COUNT_POS_RED:["-200_-180","150_300"],KILL_COUNT_POS_YELLOW:["180_200","150_300"],KILL_COUNT_POS_GREEN:["-200_-180","-300_-150"],KILL_COUNT_POS_BLUE:["180_200","-300_-150"],GIFT_ENTER_POS_RED:["-200_-180","150_300"],GIFT_ENTER_POS_YELLOW:["180_200","150_300"],GIFT_ENTER_POS_GREEN:["-200_-180","-300_-150"],GIFT_ENTER_POS_BLUE:["180_200","-300_-150"],STOP_ANI_SWITCH:[1,.5],MOVE_BORROW_SOLDIER:[200,.1],CHANGE_IMAGINARY_SOLDIER_RATE:.7,MOVE_CREATE_SOLDIER_COUNT:50,ENTER_EFFECT_RANKING:50,ADD_ALL_SOLDIER_COUNT:20,REPORT_KILL_COUNT_TIME:180,KILL_COUNT_TIMES:80,MONSTER_DIALOG_TIME:10,PROVIDE_SOLDIER_SCORE:0,WIN_COUNT_TEAM_COUNT:10,WIN_COUNT_ALL_RATE:[50,20,10,5,4,3,2,1],VALID_WIN_KILL_COUNT:2,VALID_WIN_DIAMOND:10,MONSTER_GET_SOLDIER_CHANGE_ROBOT:0,OPEN_WIN_COUNT_RANK_SWITCH:0,EXTRA_ROLE_MADE:["gx7pmjQfhBaDOG2XkWI2peZ66YFWkCWRjZXpTqb23O/epru+sxWyTV/3Ufs=","10"],EXTRA_ROLE_LIMIT:3,WORLD_TOP_CHANGE_SKIN:[1,5,10],WORLD_TOP_CAN_CHANGE_SKIN:["22_41_27_0","22_41_0","22_0"],ANCHOR_ACTIVITY_DATE:["2023_6_16","2023_6_25"],CITY_DEFENSE_STATE_COUNT:2,PULL_PEOPLE_CONDITION:[2,3],PULL_PEOPLE_AWARD:["0_5","26_1"],PULL_PEOPLE_SHOW_INTERVAL:5,RANGE_ATTACK_SWITCH:0,FLOAT_MAX_COUNT:800,ROLE_UPDATE_COUNT:20,WORLD_RANK_COUNT:20,ATTACK_SOLDIER_LIMIT_BY_TOTAL:400,CHECK_SOLDIER_LIMIT:12,HERO_CHECK_SOLDIER_TOTAL:200,GAME_CHECK_SOLDIER_TOTAL:70,CHECK_SOLDIER_START_COUNT:4e3,CREATE_TRAP_LIMIT:10,KILLING_SPREE:3,MONSTER_OPTION_INDEX:0,JOIN_OPTION_INDEX:0,MAP_OPTION_INDEX:0,ADD_MONSTER_DURATION:1,ROBOT_COUNT:0,BATTLE_DURATION:5,END_POINT_RANGE:2,SOLDIER_HERO_DISTANCE:30,SOLDIER_CHASE_DISTANCE:70,GAME_MODE_OPTION_INDEX:0,IN_BATTLE_ARRAY:!1,IN_ANCHOR_ACTIVITY:!1,GAME_IN_PROGRESS:!1,GAME_IN_CATON:!1});E._RF.pop()}}}));

System.register("chunks:///_virtual/CrashReport.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./md5.ts","./SdkManager.ts"],(function(){"use strict";var t,n,r,i,e,s,o;return{setters:[function(r){t=r.asyncToGenerator,n=r.regeneratorRuntime},function(t){r=t.cclegacy,i=t.sys},function(t){e=t.logger},function(t){s=t.hex_md5},function(t){o=t.sdkManager}],execute:function(){r._RF.push({},"2268bm6I51C1ZtTGx85jJpN","CrashReport",void 0);var u=function(){function t(){this.detail=void 0,this.os=void 0,this.time=void 0,this.logs=void 0}var n=t.prototype;return n.init=function(t,n){var r=this;this.detail={res_version:"0.0.1",message:t,stacks:[]},null!=n&&""!=n&&n.split("\n").forEach((function(t){if(!(r.detail.stacks.length>=10)){for(var n=t.split("@"),i=[],e=0;e<n.length;++e){if(0==e)n[e].split(":").forEach((function(t){return i.push(t)}));else i.push(n[e])}r.detail.stacks.push(i)}})),this.os=i.os,this.time=Date.now()},n.md5=function(){return s(JSON.stringify(this.detail))},t}(),a={};function c(t){return l.apply(this,arguments)}function l(){return(l=t(n().mark((function t(r){var i,s;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s=r.md5(),e.log("report bug","md5 val is",s),!(null!=a[s]&&a[s]+6e8>r.time)){t.next=5;break}return e.log("report bug","same bug in 10 min, return"),t.abrupt("return");case 5:a[s]=r.time,e.log("report bug","start upload bug"),null==(i=o.thinking)||i.track("error",{bugID:s,bug:JSON.stringify(r)});case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}i.isNative?window.__errorHandler=function(t,n,r,i){var e=new u;e.init(r,i),c(e)}:window.onerror=function(t,n,r,i,e){var s=new u,o=e&&e.stack?e.stack:"",a="";a=t instanceof String?t:JSON.stringify(t),s.init(a,o),c(s)},r._RF.pop()}}}));

System.register("chunks:///_virtual/danmu.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app2.ts","./NetworkManager.ts"],(function(e){"use strict";var t,n,r,o,a;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){o=e.getToken},function(e){a=e.networkManager}],execute:function(){e({DMTongji:void 0,initToken:function(e,t,n){return p.apply(this,arguments)}}),r._RF.push({},"9562eKfLg5PW6C3sBlPtdoU","danmu",void 0);var u,c,i,l;e("DanmuMessage",{Start:"start",Stop:"stop",Chat:"chat",Gift:"gift",Like:"like"});function p(){return(p=t(n().mark((function e(t,r,u){var c,i,l;return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={gameID:t,platform:r},i=Object.assign({},c),u&&(Object.keys(u).forEach((function(e){return i[e]=u[e]})),c.payload=u),a.setSign(i),e.next=6,o(c).catch((function(e){return console.error(e)}));case 6:if(l=e.sent){e.next=9;break}return e.abrupt("return",!1);case 9:return a.setHeaderToken(l.access_token),e.abrupt("return",!0);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}c=u||(u=e("DMTongji",{})),i={count:0,people:new Set},l={count:0,people:new Set},c.addValidRecord=function(e){l.count++,l.people.add(e)},c.addTotalRecord=function(e){i.count++,i.people.add(e)},c.getValidCount=function(){return l.count},c.getValidPopulation=function(){return l.people.size},c.getValidPlayerID=function(){return Array.from(l.people)},c.getTotalCount=function(){return i.count},c.getTotalPopulation=function(){return i.people.size},c.getTotalPlayerID=function(){return Array.from(i.people)},c.clearTotal=function(){i.count=0,i.people.clear()},c.clearValid=function(){l.count=0,l.people.clear()},c.clearAll=function(){this.clearValid(),this.clearTotal()},r._RF.pop()}}}));

System.register("chunks:///_virtual/DataManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppConst.ts","./Utils.ts","./AppEnum.ts"],(function(t){"use strict";var e,r,n,s,u,i,a,o,c,h,l,p,f,d,v;return{setters:[function(t){e=t.createClass},function(t){r=t.cclegacy,n=t.director},function(t){s=t.mapItemRow,u=t.mapItemCol,i=t.typeCount,a=t.listCardCount,o=t.typeUniversal,c=t.typeScore,h=t.mapTotalCount,l=t.stepMap,p=t.levelMap},function(t){f=t.default},function(t){d=t.EResult,v=t.EventType}],execute:function(){r._RF.push({},"d1bccIZC2BPMZZAQS6cjB5X","DataManager",void 0);t("dataManager",new(function(){function t(){this.step=0,this.curListCount=0,this.dataArr=[],this.curLevelCfg=null,this._level=0,this.collectArr=[],this._score=0,this._countdown=0,this._isPause=!1}var r=t.prototype;return r.pause=function(){this.isPause=!0},r.resume=function(){this.isPause=!1},r.startGame=function(t){this.resume();var e=this.level||1;this.level=t?e+1:e,this.step=0,this.score=0,this.dataArr.length=0;for(var r=0;r<s;r++)for(var n=0;n<u;n++)this.dataArr.push({type:-1,num:0,x:n,y:r,idx:n+r*u});for(var a=0;a<i;a++)this.collectArr[a]=0;this.countdown=60*this.curLevelCfg.time},r.judgeGameResult=function(){var t=this,e=d.NORMAL,r=this.countdown>0&&this.collectArr.every((function(e,r){return e>=t.curLevelCfg.collectCount[r]})),n=this.score>=this.curLevelCfg.score,s=this.dataArr.every((function(t){return t.num>0}))||this.countdown<=0;return r&&n?e=d.WIN_2:s&&(e=r||n?d.WIN_1:d.FAIL),e},r.reduceTime=function(){this.countdown--},r.addStep=function(){this.step++;for(var t=1===this.step?a:1,e=[],r=this.curLevelCfg,n=0;n<t;n++){var s={type:f.getRandomByPercente(r.typeRate),num:f.getRandomByPercente(r.numRate)+1};e.push(s)}return console.log("步数:",this.step,e),e},r.reduceListCount=function(t){n.emit(v.createCard);var e=t.idx%u==0||t.idx>=(s-1)*u,r=this.dataArr[t.idx];return r.type=t.type,r.num=t.num+(!f.isUniversalCard(t.type)&&e?1:0),r.num},r.placeItem=function(t){var e=this,r=[],n=[t];if(this.ergodicData(t,n),n.length<=1){var s=this.dataArr[t];return s.type===o&&(s.num=0,s.type=-1,r.push(s)),r}var u=0;return n.forEach((function(t){var n=e.dataArr[t];n.num--,u+=c[n.type],e.collectArr[n.type]++,(n.num<=0||n.type===o)&&(n.num=0,n.type=-1),r.push(e.dataArr[t])})),this.score+=u,r},r.ergodicData=function(t,e){var r=this,n=this.getFourSidesIdx(t,e);0!==n.length&&(console.log("消除下标",n),n.forEach((function(t){return r.ergodicData(t,e)})))},r.getFourSidesIdx=function(t,e){var r=[],n=t+u;n<h&&this.sameCard(t,n)&&f.pushToArr(e,n)&&r.push(n);var s=t-u;s>=0&&this.sameCard(t,s)&&f.pushToArr(e,s)&&r.push(s);var i=t-1;i>=0&&t%u>0&&this.sameCard(t,i)&&f.pushToArr(e,i)&&r.push(i);var a=t+1;return a<h&&t%u!=u-1&&this.sameCard(t,a)&&f.pushToArr(e,a)&&r.push(a),r},r.sameCard=function(t,e){var r=this.dataArr[t],n=this.dataArr[e],s=r.num===n.num,u=r.type===n.type||r.type===o||n.type===o;return s&&u},r.getStepCfg=function(t){for(var e=0;e<l.length;e++){var r=l[e];if(t<=r.step)return r}return l[l.length-1]},r.getLevelCfg=function(){for(var t=0;t<p.length;t++){var e=p[t];if(this.level<=e.level)return e}return p[p.length-1]},e(t,[{key:"level",get:function(){return this._level},set:function(t){this._level=t,this.curLevelCfg=this.getLevelCfg()}},{key:"score",get:function(){return this._score},set:function(t){this._score=t,n.emit(v.updateScore)}},{key:"countdown",get:function(){return this._countdown},set:function(t){this._countdown=t}},{key:"isPause",get:function(){return this._isPause},set:function(t){this._isPause=t}}]),t}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/DouyinSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./NetworkManager.ts","./danmu.ts","./Tools.ts","./EventCenter.ts","./EventData2.ts","./Logger.ts"],(function(t){"use strict";var n,r,e,o,s,u,i,a,c;return{setters:[function(t){n=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){e=t.cclegacy},function(t){o=t.networkManager},function(t){s=t.DanmuMessage},function(t){u=t.tools},function(t){i=t.eventCenter},function(t){a=t.EventID},function(t){c=t.logger}],execute:function(){e._RF.push({},"3b865A/LjNL/pAgq+zcFzMn","DouyinSDK",void 0);t("DouyinSDK",function(){function t(t){this.parsers={},this.cfg=t}var e=t.prototype;return e.init=function(t){return this.opts=t,this},e.start=function(){var t=n(r().mark((function t(){var n,e,f,p,h,g,D;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=u.queryParams(),c.debug("启动参数：",n),e=n.account,f=n.password,p=n.roomID,h=n.shortID,e&&f){t.next=9;break}return i.fire(a.SHOW_ERROR_INFO,"参数错误: "+JSON.stringify(n)),t.abrupt("return",!1);case 9:return this.opts.roomID=p,this.anchor={openID:e,nickname:"",avatar:"",roomID:p,shortID:h},g=this.cfg.danmu+"/"+o.Token,t.next=14,o.websocketConnect(g);case 14:return(D=t.sent)&&i.fire(s.Start,this.anchor),t.abrupt("return",D);case 17:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicAtlasLabel.ts",["./rollupPluginModLoBabelHelpers.js","cc","./md5.ts","./DynamicAtlasMgr.ts"],(function(t){"use strict";var e,a,i,n,l,r,s,c,o,m;return{setters:[function(t){e=t.applyDecoratedDescriptor,a=t.inheritsLoose,i=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){l=t.cclegacy,r=t._decorator,s=t.Label,c=t.LabelOutline},function(t){o=t.hex_md5},function(t){m=t.dynamicAtlasMgr}],execute:function(){var u,y,p,f,A;l._RF.push({},"443067Q9sNLWbxmREBAAoEK","DynamicAtlasLabel",void 0);var d=r.ccclass,h=r.property;t("DynamicAtlasLabel",(u=d("DynamicAtlasLabel"),y=h({tooltip:"自定义合图名,不为空即为开启"}),u((A=e((f=function(t){function e(){for(var e,a=arguments.length,l=new Array(a),r=0;r<a;r++)l[r]=arguments[r];return e=t.call.apply(t,[this].concat(l))||this,i(e,"dynamicAtlasName",A,n(e)),e}return a(e,t),e.prototype._flushAssembler=function(){if(t.prototype._flushAssembler.call(this),!m.dynamicAtlasInit){m.dynamicAtlasInit=!0;var e=this._assembler._calDynamicAtlas;this._assembler._calDynamicAtlas=function(t){if(t.dynamicAtlasName){if(t.cacheMode!==s.CacheMode.BITMAP)return;var a=t.string+t.color+t.node.scale+t.overflow+t.isBold,i=t.getComponent(c);i&&(a+=i.color,a+=i.width);var n=o(a),l=t.ttfSpriteFrame;l.customizeMd5=n,m.packToDynamicAtlas(t.dynamicAtlasName,l)}else e(t)}}},e}(s)).prototype,"dynamicAtlasName",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=f))||p));l._RF.pop()}}}));

System.register("chunks:///_virtual/DynamicAtlasMgr.ts",["./rollupPluginModLoBabelHelpers.js","cc","./atlas.ts"],(function(t){"use strict";var e,a,i,n,s,r,l,o,u,c,h,d,m,_,f,p,y;return{setters:[function(t){e=t.createClass},function(t){a=t.cclegacy,i=t._decorator,n=t.macro,s=t.js,r=t.find,l=t.Node,o=t.ScrollView,u=t.UITransform,c=t.Size,h=t.view,d=t.Layout,m=t.Layers,_=t.Sprite,f=t.SpriteFrame,p=t.Vec3},function(t){y=t.Atlas}],execute:function(){var A,g;t("Filter",void 0),a._RF.push({},"edcd6L1i0lIPoHfMAndECzf","DynamicAtlasMgr",void 0);var x,C=i.ccclass,S=(i.property,t("DynamicAtlasMgr",C("DynamicAtlasMgr")(((g=function(){function t(){this._atlasesMap=new Map,this._atlasIndex=-1,this._maxAtlasCount=5,this._textureSize=2048,this._maxFrameSize=512,this._textureBleeding=!0,this._dynamicAtlasInit=!1,this._enabled=!0}var a=t.prototype;return a.newAtlas=function(t){var e=this._atlasesMap[t];return e||(e=new y(this._textureSize,this._textureSize),this._atlasesMap.set(t,e)),e},a.beforeSceneLoad=function(){this.reset()},a.init=function(){this.enabled=!n.CLEANUP_IMAGE_CACHE},a.insertSpriteFrame=function(t,e){if(!this._enabled||this._atlasIndex===this._maxAtlasCount||!e||e._original)return null;if(!e.packable)return null;var a=e.texture.getSamplerInfo();if(a.minFilter!==x.LINEAR||a.magFilter!==x.LINEAR||a.mipFilter!==x.NONE)return null;var i=this._atlasesMap.get(t);return i||(i=this.newAtlas(t)),i.insertSpriteFrame(e)},a.reset=function(){this._atlasesMap.forEach((function(t){t.destroy()})),this._atlasesMap.clear(),this._atlasIndex=-1},a.deleteAtlas=function(t){t&&this._atlasesMap.has(t)&&(this._atlasesMap.get(t).destroy(),this._atlasesMap.delete(t))},a.deleteAtlasSpriteFrame=function(t){t._original&&(this._atlasesMap.forEach((function(e){s.array.fastRemove(e._innerSpriteFrames,t)})),this.deleteAtlasTexture(t))},a.deleteAtlasTexture=function(t){var e=this,a=t._original._texture;a&&this._atlasesMap.forEach((function(i,n){i.deleteInnerTexture(t.customizeMd5,a),i.isEmpty()&&(i.destroy(),e._atlasesMap.delete(n))}))},a.packToDynamicAtlas=function(t,e){if(e&&!e._original&&e.packable&&e.texture&&e.texture.width>0&&e.texture.height>0){var a=this.insertSpriteFrame(t,e);a&&e._setDynamicAtlasFrame(a)}},a.showDynamicAtlas=function(){var t=r("Canvas");t.removeChild(t.getChildByName("dynamicAtlas"));var e=new l("dynamicAtlas"),a=e.addComponent(o);e.getComponent(u).setContentSize(new c(h.getVisibleSize().width,h.getVisibleSize().height));var i=new l("CONTENT"),n=i.addComponent(d);i.parent=e,i.getComponent(u).anchorY=1,i.getComponent(u).setContentSize(new c(2048,2048*this._atlasesMap.size)),n.resizeMode=d.ResizeMode.CONTAINER,n.type=d.Type.VERTICAL,a.content=i,a.horizontal=!0,a.vertical=!0,e.layer=m.Enum.UI_2D,this._atlasesMap.forEach((function(t,e){var a=new l("atlas"),n=a.addComponent(_);a.layer=m.Enum.UI_2D;var s=new f;s.texture=t._texture,n.spriteFrame=s,i.addChild(a)})),r("Canvas").addChild(e),e.setPosition(new p(0,0,0))},a.hideDynamicAtlas=function(){var t=r("Canvas");t.getChildByName("dynamicAtlas")&&(t.getChildByName("dynamicAtlas").active=!1)},e(t,[{key:"dynamicAtlasInit",get:function(){return this._dynamicAtlasInit},set:function(t){this._dynamicAtlasInit!==t&&(this._dynamicAtlasInit=t)}},{key:"enabled",get:function(){return this._enabled},set:function(t){this._enabled!==t&&(this.reset(),this._enabled=t)}},{key:"maxAtlasCount",get:function(){return this._maxAtlasCount},set:function(t){this._maxAtlasCount=t}},{key:"atlasCount",get:function(){return this._atlasesMap.size}},{key:"textureBleeding",get:function(){return this._textureBleeding},set:function(t){this._textureBleeding=t}},{key:"textureSize",get:function(){return this._textureSize},set:function(t){this._textureSize=t}},{key:"maxFrameSize",get:function(){return this._maxFrameSize},set:function(t){this._maxFrameSize=t}}]),t}()).instance=void 0,A=g))||A));!function(t){t[t.NONE=0]="NONE",t[t.LINEAR=2]="LINEAR",t[t.NEAREST=1]="NEAREST"}(x||(x=t("Filter",{})));t("dynamicAtlasMgr",S.instance=new S);a._RF.pop()}}}));

System.register("chunks:///_virtual/EventCenter.ts",["cc","./Logger.ts"],(function(e){"use strict";var r,t;return{setters:[function(e){r=e.cclegacy},function(e){t=e.logger}],execute:function(){r._RF.push({},"55e38ygm4tNzZF5c1G4Ej+L","EventCenter",void 0);e("eventCenter",new(function(){function e(){this._handlers={},this._currHandlers={},this._handlers={},this._currHandlers={}}var r=e.prototype;return r._exist=function(e,r){for(var t=-1,n=0;n<e.length;n++)e[n].target==r&&(t=n);return t},r._removeOne=function(e,r){var t=this._exist(e,r);return t>=0&&(e.splice(t,1),!0)},r.register=function(e,r,t){var n="number"==typeof e?e.toString():e,i=this._handlers[n]||[];this._handlers[n]=i,-1==this._exist(i,r)&&i.push({callback:t,target:r})},r.unregister=function(e,r){if(null!=e&&null!=r){var n="number"==typeof e?e.toString():e,i=this._handlers[n];if(i){if(this._removeOne(i,r)){var l=this._currHandlers[n];l&&(this._removeOne(l,r),0==l.length&&delete this._currHandlers[n])}0==i.length&&delete this._handlers[e]}}else t.error("EventCenter","unregister a null eventid or target. ignore.")},r.unregisterAll=function(e){if(null!=e)for(var r in this._handlers)this.unregister(r,e);else t.error("EventCenter","unregister all for a null target. ignore.")},r.fire=function(e){if(null!=e){var r="number"==typeof e?e.toString():e,n=this._handlers[r];if(null!=n){var i=n.slice(0);this._currHandlers[r]=i;for(var l=arguments.length,s=new Array(l>1?l-1:0),a=1;a<l;a++)s[a-1]=arguments[a];for(var u=i.length-1;u>=0;--u){var o=i[u];if(o.target&&o.callback)try{var c=[];s&&(c=c.concat(s)),o.callback.apply(o.target,c)}catch(e){t.error("EventCenter","fireEvent error = ",e)}}this._currHandlers[r]=null}}else t.error("EventCenter","fire a null eventid. ignore.")},e}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/EventData.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"499cd4jBZ5BF6L8G0d0eohS","EventData",void 0);var c=0;t("EventID",{CMD_DANMU:++c});e._RF.pop()}}}));

System.register("chunks:///_virtual/EventData2.ts",["cc"],(function(R){"use strict";var O;return{setters:[function(R){O=R.cclegacy}],execute:function(){O._RF.push({},"871b1HQOStPRI+VdYs8T/V8","EventData",void 0);R("EventID",{SHOW_ERROR_INFO:"SHOW_ERROR_INFO",NETWORK_CONNECTED:"NETWORK_CONNECTED",NETWORK_CLOSED:"NETWORK_CLOSED",NETWORK_ERROR:"NETWORK_ERROR",KILL_ROOM:"kill_room"});O._RF.pop()}}}));

System.register("chunks:///_virtual/FarmView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},null,function(e){i=e.ViewBaseComponent}],execute:function(){var s;n._RF.push({},"ef714suh8BFs6IAkAjsTUBC","FarmView",void 0);var r=o.ccclass;o.property,e("FarmView",r("FarmView")(s=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},n}(i))||s);n._RF.pop()}}}));

System.register("chunks:///_virtual/FloatTips.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ItemTips.ts"],(function(t){"use strict";var i,e,n,o,r,s,a,c,l,h,p;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){r=t.cclegacy,s=t._decorator,a=t.Node,c=t.isValid,l=t.instantiate,h=t.Component},function(t){p=t.ItemTips}],execute:function(){var u,f,_,d,v;r._RF.push({},"9a5a8yH5dVJ3rGm7j9q2jT+","FloatTips",void 0);var m=s.ccclass,T=s.property;t("FloatTips",(u=m("FloatTips"),f=T(a),u((v=i((d=function(t){function i(){for(var i,e=arguments.length,r=new Array(e),s=0;s<e;s++)r[s]=arguments[s];return i=t.call.apply(t,[this].concat(r))||this,n(i,"nodeItem",v,o(i)),i._contentList=[],i._lastShowTime=0,i._tipArr=[],i}e(i,t);var r=i.prototype;return r.onLoad=function(){this.nodeItem.active=!1},r.show=function(t,i){void 0===i&&(i=0),this._contentList.push({content:t,extraDelay:i})},r.update=function(){this._checkShow(),this._clearNullNode()},r._clearNullNode=function(){var t=this._tipArr.length;if(!(t<=0))for(var i=0;i<t;i++){var e=this._tipArr[i];if(!c(e)){this._tipArr.splice(i,1);break}}},r._checkShow=function(){if(0!=this._contentList.length&&Date.now()-this._lastShowTime>=.4){var t=l(this.nodeItem);this.node.addChild(t);var i=t.getComponent(p),e=this._contentList.shift();i.show(null==e?void 0:e.content,null==e?void 0:e.extraDelay),this._checkOtherTips(),this._tipArr.push(t),this._lastShowTime=Date.now()}},r._checkOtherTips=function(){var t=this._tipArr.length;if(!(t<=0))for(var i=0;i<t;i++){var e=this._tipArr[i];if(c(e))e.getComponent(p).moveDown()}},i}(h)).prototype,"nodeItem",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=d))||_));r._RF.pop()}}}));

System.register("chunks:///_virtual/FSMachine.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"0be92tsZ5lEO7xXzUgfjn5S","FSMachine",void 0);t("FSMachine",function(){function t(t,e){this.curState=void 0,this.nexState=void 0,this.states=t,this.target=e}var e=t.prototype;return e.isState=function(t){var e;return(null==(e=this.curState)?void 0:e.name)===t},e.getState=function(){var t,e;return null!=(t=null==(e=this.curState)?void 0:e.name)?t:""},e.addState=function(t){var e=this.states.findIndex((function(e){return e.name===t.name}));-1!==e&&this.states.splice(e,1),this.states.push(t)},e.setInitState=function(t){var e;if((null==(e=this.curState)?void 0:e.name)!==t){for(var a=arguments.length,n=new Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];this.setState.apply(this,[t].concat(n))}else{var s;this.curState&&(null==(s=this.curState.onEnter)||s.call.apply(s,[this.target].concat(this.curState.params)))}},e.setState=function(t){var e;if((null==(e=this.curState)?void 0:e.name)!==t){var a;if(this.curState)null==(a=this.curState.onExit)||a.call(this.target),this.curState=null;var n=this.states.find((function(e){return e.name===t}));if(n){for(var i=arguments.length,s=new Array(i>1?i-1:0),r=1;r<i;r++)s[r-1]=arguments[r];this.nexState=Object.assign({},n,{params:s})}}},e.update=function(t){var e;if(!this.curState&&this.nexState)this.curState=this.nexState,this.nexState=null,null==(e=this.curState.onEnter)||e.call.apply(e,[this.target].concat(this.curState.params));else if(this.curState){var a;null==(a=this.curState.onUpdate)||a.call(this.target,t)}},e.clearState=function(){this.curState=null,this.nexState=null},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/GameConfigManager.ts",["cc","./live-custom.ts","./ContactConfig.ts","./ConfigManager.ts"],(function(i){"use strict";var o,n,t;return{setters:[function(i){o=i.cclegacy},null,function(i){n=i.contactConfig},function(i){t=i.configManager}],execute:function(){var C;i("GameConfigName",void 0),o._RF.push({},"c64dfalnHJOtpChVk6qyHnm","GameConfigManager",void 0),function(i){i.HEROCONFIG="HeroConfig",i.MAPCONFIG="MapConfig",i.MIDCONFIG="MidConfig",i.MISCCONFIG="MiscConfig",i.ROBOTCONFIG="RobotConfig",i.SKILLCONFIG="SkillConfig",i.DANMUCONFIG="DanmuConfig",i.GIFTCONFIG="GiftConfig",i.STARRISECONFIG="StarRiseConfig",i.TITLECONFIG="TitleConfig"}(C||(C=i("GameConfigName",{})));var g=i("GameConfigManager",function(){function i(){this.HeroConfig=void 0,this.HeroConfigMap=void 0,this.MiscConfigMap=void 0,this.SkillConfigMap=void 0,this.RobotConfig=void 0,this.DanmuConfig=void 0,this.DanmuConfigMap=void 0,this.GiftConfig=void 0,this.GiftConfigMap=void 0,this.MidConfig=void 0,this.MidConfigMap=void 0,this.StarRiseConfigMap=void 0,this.TitleConfigMap=void 0}return i.prototype.init=function(){var i=this;this.MiscConfigMap=t.getCfgMap(C.MISCCONFIG,"Key"),Object.keys(this.MiscConfigMap).forEach((function(o){var t=i.MiscConfigMap[o].Value;if(void 0!==n[o]){var C=Array.isArray(n[o]);"number"==typeof n[o]||"number"==typeof n[o][0]?n[o]=C?t.map((function(i){return Number(i)})):Number(t[0]):n[o]=C?t.concat([]):t[0]}})),n.ATTACK_SOLDIER_LIMIT>=350&&(n.ATTACK_SOLDIER_LIMIT=350),n.CARRY_SOLDIER_LIMIT=n.MOVE_SOLDIER_MIN_COUNT,n.RANDOM_IDLE_SOLDIER_LIMIT>=4e3&&(n.RANDOM_IDLE_SOLDIER_LIMIT=4e3),n.CHANGE_IMAGINARY_SOLDIER_RATE<.8&&(n.CHANGE_IMAGINARY_SOLDIER_RATE=.8),this.HeroConfig=t.getCfgArray(C.HEROCONFIG),this.HeroConfigMap=t.getCfgMap(C.HEROCONFIG,"ID"),this.SkillConfigMap=t.getCfgMap(C.SKILLCONFIG,"ID"),this.RobotConfig=t.getCfgArray(C.ROBOTCONFIG),this.DanmuConfig=t.getCfgArray(C.DANMUCONFIG),this.DanmuConfigMap=t.getCfgMap(C.DANMUCONFIG,"Keyword"),this.GiftConfig=t.getCfgArray(C.GIFTCONFIG),this.GiftConfigMap=t.getCfgMap(C.GIFTCONFIG,"ID"),this.MidConfig=t.getCfgArray(C.MIDCONFIG),this.MidConfigMap=t.getCfgMap(C.MIDCONFIG,"ID"),this.StarRiseConfigMap=t.getCfgMap(C.STARRISECONFIG,"ID"),this.TitleConfigMap=t.getCfgMap(C.TITLECONFIG,"ID")},i}());i("gameCfgManager",new g);o._RF.pop()}}}));

System.register("chunks:///_virtual/GameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./AppConst.ts","./AppEnum.ts","./DataManager.ts","./GlobalManager.ts","./NodePool.ts","./ItemVeg.ts","./ItemHideAni.ts","./UIConfig.ts","./UIManager.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,i,o,r,a,s,l,u,c,d,h,f,p,m,g,b,N,C,v,y,w,E,I;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,l=e.Label,u=e.director,c=e.v2,d=e.tween,h=e.v3},null,function(e){f=e.listCardCount},function(e){p=e.EventType,m=e.EResult},function(e){g=e.dataManager},function(e){b=e.globalManager},function(e){N=e.ItemVegPool,C=e.ItemHideAniPool},function(e){v=e.ItemVeg},function(e){y=e.ItemHideAni},function(e){w=e.VIEW_UID},function(e){E=e.uiManager},function(e){I=e.ViewBaseComponent}],execute:function(){var L,T,_,A,G,P,V,S,z,M,x,U,H,O,D,R,k,F,j,B,W,Q,q;r._RF.push({},"20370AdirlNx7B0OQ0xidWo","GameView",void 0);var J=a.ccclass,K=a.property;e("GameView",(L=J("GameView"),T=K(s),_=K(s),A=K(l),G=K(l),P=K(s),V=K(l),S=K(s),z=K(s),M=K(s),x=K(s),L((O=t((H=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return t=e.call.apply(e,[this].concat(r))||this,i(t,"mapNode",O,o(t)),i(t,"listNode",D,o(t)),i(t,"scoreLabel",R,o(t)),i(t,"timeLabel",k,o(t)),i(t,"endNode",F,o(t)),i(t,"endLabel",j,o(t)),i(t,"nextNode",B,o(t)),i(t,"pauseNode",W,o(t)),i(t,"resumeNode",Q,o(t)),i(t,"jingNode",q,o(t)),t}n(t,e);var r=t.prototype;return r.onInit=function(){b.init(this.node,this.mapNode),this.onEvent(),this.onStartGame(!1)},r.onEvent=function(){u.on(p.startGame,this.onStartGame,this),u.on(p.createCard,this.onCreateCard,this),u.on(p.updateScore,this.onUpdateScore,this),u.on(p.flyHideAni,this.onFlyAni,this),u.on(p.closeGame,this.closeView,this),this.node.on(s.EventType.TOUCH_START,this._touchStart,this),this.node.on(s.EventType.TOUCH_MOVE,this._touchMove,this),this.node.on(s.EventType.TOUCH_END,this._touchEnd,this),this.node.on(s.EventType.TOUCH_CANCEL,this._touchCancel,this)},r.onCreateCard=function(){var e=this,t=g.addStep();if(t.length===f)for(var n=0,i=0;i<f;i++){var o=this.listNode.children[i];if(!(o.children.length>0)){var r=N.get(v);o.addChild(r.node),r.setData(t[n]),n++}}else{for(var a=function(t){var n=e.listNode.children[t];if(0===n.children.length)return"continue";var i=n.children[0];d(i).by(.2,{position:h(-153,0,0)}).call((function(){i.setParent(e.listNode.children[t-1]),i.setPosition(0,0,0)})).start()},s=this.listNode.children.findIndex((function(e){return 0===e.children.length}))+1;s<f;s++)a(s);this.scheduleOnce((function(){var n=N.get(v);e.listNode.children[e.listNode.children.length-1].addChild(n.node),n.setData(t[0]),e.scheduleOnce((function(){e.onPlaceCompleted()}),.1)}),.2)}},r.onUpdateScore=function(){this.scoreLabel.string=""+g.score},r.onPlaceCompleted=function(){var e=g.judgeGameResult();e!=m.NORMAL&&this.showEndNode(e)},r.onFlyAni=function(e){var t=b.getMapItem(e),n=C.get(y);this.mapNode.addChild(n.node),n.onInit(c(t.position.x,t.position.y),c(this.jingNode.position.x,this.jingNode.position.y),(function(){C.put(n.node)}))},r.showEndNode=function(e){this.unschedule(this.onTimer),this.listNode.children.forEach((function(e){e.children.length>0&&e.children[0].destroy()})),this.mapNode.children.forEach((function(e){e.children.length>0&&e.children[0].destroy()})),this.endNode.active=!0,this.nextNode.active=e!==m.FAIL,this.endLabel.string=e===m.FAIL?"FAIL!":"WIN!"},r.onTimer=function(){g.isPause||(g.reduceTime(),g.countdown<=0&&(this.unschedule(this.onTimer),this.onPlaceCompleted()),this.updateCountdown())},r.updateCountdown=function(){this.timeLabel.string=""+g.countdown},r.startGame=function(e){this.endNode.active=!1,g.startGame(e),this.schedule(this.onTimer,1),this.onCreateCard(),this.onUpdateScore(),this.updateCountdown(),this.setPause(!1)},r.setPause=function(e){this.pauseNode.active=!e,this.resumeNode.active=e},r.onStartGame=function(e){this.startGame(e)},r.onClickExit=function(){this.closeView()},r.onClickPause=function(){g.pause(),this.setPause(!0)},r.onClickResume=function(){g.resume(),this.setPause(!1)},r.onClickNext=function(){this.startGame(!0)},r.onClickRestart=function(){this.startGame(!1)},r.onClickSet=function(){E.loadView(w.SET_VIEW)},r._touchStart=function(e){e.touch.getUILocation()},r._touchMove=function(e){},r._touchEnd=function(e){},r._touchCancel=function(e){},t}(I)).prototype,"mapNode",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(H.prototype,"listNode",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(H.prototype,"scoreLabel",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=t(H.prototype,"timeLabel",[G],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(H.prototype,"endNode",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(H.prototype,"endLabel",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(H.prototype,"nextNode",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(H.prototype,"pauseNode",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(H.prototype,"resumeNode",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(H.prototype,"jingNode",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=H))||U));r._RF.pop()}}}));

System.register("chunks:///_virtual/GlobalManager.ts",["cc"],(function(t){"use strict";var o;return{setters:[function(t){o=t.cclegacy}],execute:function(){o._RF.push({},"8bf149iqkJBcIiuifcR5jdI","GlobalManager",void 0);t("globalManager",new(function(){function t(){this.rootNode=null,this.mapNode=null}var o=t.prototype;return o.init=function(t,o){this.rootNode=t,this.mapNode=o},o.getMapItem=function(t){return this.mapNode.children[t]},o.getMapPos=function(){return this.mapNode.position},o.getRootNode=function(){return this.rootNode},o.setParent=function(t){t.setParent(this.rootNode)},t}()));o._RF.pop()}}}));

System.register("chunks:///_virtual/HeartBeat.ts",["cc"],(function(t){"use strict";var e;return{setters:[function(t){e=t.cclegacy}],execute:function(){e._RF.push({},"5e05bjpNthDPqVmbmWBAWT/","HeartBeat",void 0);t("default",function(){function t(){this._timeOut=3e3,this._timer=void 0,this._delayTimeOut=5e3,this._delayTimer=void 0,this._name=void 0}var e=t.prototype;return e.init=function(t,e,i){this._name=t,this._timeOut=e,this._delayTimeOut=i},e.start=function(t,e){var i=this;this.close(),this._timer=setTimeout((function(){t&&t(),i._delayTimer=setTimeout((function(){e&&e()}),i._delayTimeOut)}),this._timeOut),console.log(this._name+" start heart beat")},e.close=function(){this._timer&&clearTimeout(this._timer),this._delayTimer&&clearTimeout(this._delayTimer)},t}());e._RF.pop()}}}));

System.register("chunks:///_virtual/HomeView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./UIConfig.ts","./ScheduleManager.ts","./UIManager.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var n,i,o,t,r,l,u,a,c,s,d,f,h,p,b;return{setters:[function(e){n=e.applyDecoratedDescriptor,i=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,u=e.Node,a=e.Animation,c=e.Tween,s=e.tween,d=e.v3},null,function(e){f=e.VIEW_UID},function(e){h=e.scheduleManager},function(e){p=e.uiManager},function(e){b=e.ViewBaseComponent}],execute:function(){var N,w,m,g,y,v,A,V,C,E,I,B,k,_,L,T,z,S,U,D,H,W,F,M,x;r._RF.push({},"e2410EvlxVDxr10C+0wMqss","HomeView",void 0);var P=l.ccclass,R=l.property;e("HomeView",(N=P("HomeView"),w=R(u),m=R(a),g=R(u),y=R(u),v=R(a),A=R(u),V=R(u),C=R(u),E=R(u),I=R(u),B=R(u),N((L=n((_=function(e){function n(){for(var n,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return n=e.call.apply(e,[this].concat(r))||this,o(n,"addNode",L,t(n)),o(n,"leftBtnAni",T,t(n)),o(n,"tree1Node",z,t(n)),o(n,"tree2Node",S,t(n)),o(n,"luoboAni",U,t(n)),o(n,"sunNode",D,t(n)),o(n,"sunBgNode",H,t(n)),o(n,"sunlineNode",W,t(n)),o(n,"moonNode",F,t(n)),o(n,"moonBgNode",M,t(n)),o(n,"moonLineNode",x,t(n)),n._interTree1=0,n._interTree2=0,n}i(n,e);var r=n.prototype;return r.onInit=function(){this.showUi(!1),this.showLeftUi(!1),this.onEvent(),this.onTimer(),this.luoboAni.play()},r.onDestroy=function(){h.unschedule(this._interTree1),h.unschedule(this._interTree2),c.stopAllByTarget(this.tree1Node),c.stopAllByTarget(this.tree2Node),this.luoboAni.off(a.EventType.FINISHED,this.onLuoBoEnd,this)},r.onTimer=function(){var e=this;s(this.tree1Node).by(1,{eulerAngles:d(0,0,-90)}).start(),this._interTree1=h.schedule((function(){s(e.tree1Node).by(1,{eulerAngles:d(0,0,-90)}).start(),e.sunNode.active?(e.sunNode.active=e.sunBgNode.active=e.sunlineNode.active=!1,e.moonNode.active=e.moonBgNode.active=e.moonLineNode.active=!0):(e.sunNode.active=e.sunBgNode.active=e.sunlineNode.active=!0,e.moonNode.active=e.moonBgNode.active=e.moonLineNode.active=!1)}),240),s(this.tree2Node).by(1,{eulerAngles:d(0,0,-90)}).start(),this._interTree2=h.schedule((function(){s(e.tree2Node).by(1,{eulerAngles:d(0,0,-90)}).start()}),20)},r.onEvent=function(){this.luoboAni.on(a.EventType.FINISHED,this.onLuoBoEnd,this)},r.onLuoBoEnd=function(e,n){e==a.EventType.FINISHED&&"click"==n.name&&this.luoboAni.play()},r.showUi=function(e){this.addNode.active=e},r.showLeftUi=function(e){this.leftBtnAni.node.position.x<0&&!e||this.leftBtnAni.node.position.x>0&&e||this.leftBtnAni.play(e?"leftShow":"leftHide")},r.onClickLuobo=function(){this.luoboAni.play("click")},r.onClickAdd=function(){this.showUi(!this.addNode.active)},r.onClickLeftAdd=function(){this.showLeftUi(this.leftBtnAni.node.position.x<0)},r.onClickStart=function(){this.showUi(!1),this.showLeftUi(!1),p.loadView(f.LEVEL_VIEW)},r.onClickBag=function(){p.loadView(f.BAG_VIEW)},r.onClickCard=function(){p.loadView(f.CARD_VIEW)},r.onClickFriend=function(){},r.onClickRank=function(){},r.onClickPic=function(){p.loadView(f.PIC_VIEW)},r.onClickMail=function(){p.loadView(f.MAIL_VIEW)},r.onClickAct=function(){p.loadView(f.ACTIVITY_VIEW)},r.onClickGift=function(){},r.onClickQian=function(){},r.onClickFirst=function(){},r.onClickShop=function(){p.loadView(f.SHOP_VIEW)},r.onClickSet=function(){p.loadView(f.SET_VIEW)},r.onClickFarm=function(){p.loadView(f.FARM_VIEW)},n}(b)).prototype,"addNode",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=n(_.prototype,"leftBtnAni",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=n(_.prototype,"tree1Node",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=n(_.prototype,"tree2Node",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=n(_.prototype,"luoboAni",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=n(_.prototype,"sunNode",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=n(_.prototype,"sunBgNode",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=n(_.prototype,"sunlineNode",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=n(_.prototype,"moonNode",[E],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=n(_.prototype,"moonBgNode",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(_.prototype,"moonLineNode",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=_))||k));r._RF.pop()}}}));

System.register("chunks:///_virtual/HttpRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var t,n,r,o;return{setters:[function(e){t=e.asyncToGenerator,n=e.regeneratorRuntime},function(e){r=e.cclegacy},function(e){o=e.Logger}],execute:function(){r._RF.push({},"59e5ca9OF1KHJeRnVrCsbI6","HttpRequest",void 0);var u=new o("HttpRequest"),s=e("default",function(){function e(){}return e.prototype.request=function(){var e=t(n().mark((function e(t,r,o,s,i,a){return n().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===s&&(s=!1),void 0===i&&(i=!1),e.abrupt("return",new Promise((function(e,n){if(r=r||{},!s){var c=!0;for(var T in r)c?(t=t+"?"+T+"="+r[T],c=!1):t=t+"&"+T+"="+r[T]}var p=new XMLHttpRequest;if(p.open(s?"POST":"GET",t,!0),a)for(var f=Object.keys(a),H=0;H<f.length;H++)p.setRequestHeader(f[H],a[f[H]]);i&&p.setRequestHeader("Accept-Encoding","gzip"),s&&p.setRequestHeader("Content-Type","application/json"),p.timeout=o||1e4,p.ontimeout=function(){return n("timeout")},p.onerror=function(){return n("onerror("+p.status+")")},p.onabort=function(){return n("abort")},p.onreadystatechange=function(){4==p.readyState&&(200!=p.status&&n(p.responseText||"network error"),u.debug(t,p.status),e(p.responseText))},s?p.send(JSON.stringify(r)):p.send()})));case 3:case"end":return e.stop()}}),e)})));return function(t,n,r,o,u,s){return e.apply(this,arguments)}}(),e}());s.HTTP_METHOD_GET="GET",s.HTTP_METHOD_POST="POST",s.HTTP_METHOD_PUT="PUT",s.HTTP_METHOD_DELETE="DELETE",r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemHideAni.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(i){"use strict";var t,n,e,o,r,c,a,l,s,u,p;return{setters:[function(i){t=i.applyDecoratedDescriptor,n=i.inheritsLoose,e=i.initializerDefineProperty,o=i.assertThisInitialized},function(i){r=i.cclegacy,c=i._decorator,a=i.Node,l=i.Animation,s=i.tween,u=i.v3,p=i.Component}],execute:function(){var h,y,f,d,v,m,I;r._RF.push({},"43cedLVZsRNq6BUL0xFbsxt","ItemHideAni",void 0);var F=c.ccclass,b=c.property;i("ItemHideAni",(h=F("ItemHideAni"),y=b(a),f=b(l),h((m=t((v=function(i){function t(){for(var t,n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return t=i.call.apply(i,[this].concat(r))||this,e(t,"pic",m,o(t)),e(t,"ani",I,o(t)),t.callFunc=void 0,t}n(t,i);var r=t.prototype;return r.onInit=function(i,t,n){var e=this;this.callFunc=n,this.ani.once(l.EventType.FINISHED,this.onPlayCom,this),this.pic.active=!0,this.node.setPosition(i.x,i.y),s(this.node).to(.8,{position:u(t.x,t.y+20)}).call((function(){e.pic.active=!1,e.ani.play()})).start()},r.deInit=function(){},r.onPlayCom=function(i){i==l.EventType.FINISHED&&this.callFunc&&this.callFunc()},t}(p)).prototype,"pic",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(v.prototype,"ani",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=v))||d));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemShowAni.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var t,i,e,o,r,c,a,l;return{setters:[function(n){t=n.applyDecoratedDescriptor,i=n.inheritsLoose,e=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){r=n.cclegacy,c=n._decorator,a=n.Animation,l=n.Component}],execute:function(){var s,u,p,h,y;r._RF.push({},"1295eYmAptJMLHP43PbtRH2","ItemShowAni",void 0);var f=c.ccclass,m=c.property;n("ItemShowAni",(s=f("ItemShowAni"),u=m(a),s((y=t((h=function(n){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=n.call.apply(n,[this].concat(r))||this,e(t,"ani",y,o(t)),t.callFunc=void 0,t}i(t,n);var r=t.prototype;return r.onInit=function(n){this.callFunc=n,this.ani.once(a.EventType.FINISHED,this.onPlayCom,this),this.ani.play()},r.deInit=function(){},r.onPlayCom=function(n){n==a.EventType.FINISHED&&this.callFunc&&this.callFunc()},t}(l)).prototype,"ani",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=h))||p));r._RF.pop()}}}));

System.register("chunks:///_virtual/ItemTips.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,i,n,o,s,r,a,c,h,p,l,d,u;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,n=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,r=t._decorator,a=t.RichText,c=t.UITransform,h=t.UIOpacity,p=t.Vec3,l=t.tween,d=t.Tween,u=t.Component}],execute:function(){var y,f,g,_,v;s._RF.push({},"eba49ynrVFBwrtxVWHo+Xes","ItemTips",void 0);var m=r.ccclass,w=r.property,b=.2;t("ItemTips",(y=m("ItemTips"),f=w(a),y((v=e((_=function(t){function e(){for(var e,i=arguments.length,s=new Array(i),r=0;r<i;r++)s[r]=arguments[r];return e=t.call.apply(t,[this].concat(s))||this,n(e,"lbContent",v,o(e)),e.isMoveDown=!1,e._startTime=0,e._speed=5,e._targetPosY=360,e._targetGap=80,e._scaleFinish=!1,e}i(e,t);var s=e.prototype;return s.show=function(t,e){var i=this;void 0===e&&(e=0),this.node.active=!0,this.lbContent&&(this.lbContent.string=t);var n=this.node.getComponent(c);this._targetPosY=this.node.position.y,this._targetGap=n.height+10,this.scheduleOnce((function(){var t=i.lbContent.node.getComponent(c).width;t+50>n.width&&(i.lbContent.node.parent.getComponent(c).width=t+50)})),this.node.getComponent(h).opacity=0,this.node.setScale(new p(0,0,0)),this._startTime=Date.now(),l(this.node.getComponent(h)).to(b,{opacity:255}).delay(2).to(b,{opacity:0}).start(),l(this.node).by(b,{scale:new p(1,1,1)}).call((function(){i._scaleFinish=!0})).delay(2.2+e).call((function(){i.node.destroy()})).start()},s.update=function(t){if(this.isMoveDown&&this._scaleFinish){if(Date.now()-this._startTime>=2200)return void this.node.destroy();if(d.stopAllByTarget(this.node),this.node.position.y<=this._targetPosY)return;var e=this.node.position.y;e-=this._speed,this.node.setPosition(this.node.position.x,e)}},s.moveDown=function(){this.isMoveDown=!0,this._targetPosY-=this._targetGap},e}(u)).prototype,"lbContent",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=_))||g));s._RF.pop()}}}));

System.register("chunks:///_virtual/ItemVeg.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AppConst.ts","./DataManager.ts","./GlobalManager.ts","./Utils.ts","./NodePool.ts","./Tools2.ts","./ItemShowAni.ts","./AppEnum.ts"],(function(t){"use strict";var e,n,i,o,s,a,r,h,u,c,l,d,p,f,_,m,v,y,E,P,g;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized},function(t){s=t.cclegacy,a=t._decorator,r=t.Sprite,h=t.Label,u=t.Animation,c=t.Node,l=t.director,d=t.Component},function(t){p=t.typeUniversal},function(t){f=t.dataManager},function(t){_=t.globalManager},function(t){m=t.default},function(t){v=t.ItemVegPool,y=t.ItemShowAniPool},function(t){E=t.tools},function(t){P=t.ItemShowAni},function(t){g=t.EventType}],execute:function(){var T,I,C,b,D,S,N,U,H;s._RF.push({},"a3a27wSfBtLVJlor1ji+Oqh","ItemVeg",void 0);var w=a.ccclass,M=a.property;t("ItemVeg",(T=w("ItemVeg"),I=M(r),C=M(h),b=M(u),T((N=e((S=function(t){function e(){for(var e,n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s))||this,i(e,"sp_card",N,o(e)),i(e,"lb_num",U,o(e)),i(e,"ani_role",H,o(e)),e.oldParent=null,e.data=null,e.isDestroy=!1,e}n(e,t);var s=e.prototype;return s.deInit=function(){},s.onEvent=function(){this.node.on(c.EventType.TOUCH_START,this._touchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this._touchMove,this),this.node.on(c.EventType.TOUCH_END,this._touchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this._touchCancel,this),this.ani_role.hasEventListener(u.EventType.FINISHED)||this.ani_role.on(u.EventType.FINISHED,this.onPlayCom,this)},s.removeEvent=function(){this.node.off(c.EventType.TOUCH_START,this._touchStart,this),this.node.off(c.EventType.TOUCH_MOVE,this._touchMove,this),this.node.off(c.EventType.TOUCH_END,this._touchEnd,this),this.node.off(c.EventType.TOUCH_CANCEL,this._touchCancel,this)},s.onPlayCom=function(t,e){t==u.EventType.FINISHED&&(e.name.includes("show")?this.isDestroy||this.ani_role.crossFade("idle_"+this.data.type,.2):e.name.includes("out")&&(this.ani_role.off(u.EventType.FINISHED,this.onPlayCom,this),this.node.removeFromParent(),v.put(this.node)))},s.showUi=function(t){var e=this;if(this.sp_card.node.active=t,this.ani_role.node.active=!1,this.lb_num.node.setPosition(this.lb_num.node.position.x,t?83:48),!t){var n=y.get(P);n.node.setParent(this.node),n.node.setPosition(0,80),n.onInit((function(){y.put(n.node),e.isDestroy||(e.ani_role.node.active=!0,e.ani_role.play("show_"+e.data.type))}))}},s.setData=function(t){this.data=t,this.isDestroy=!1,this.onEvent(),this.showUi(!0),this.setNum()},s.reduceNum=function(t){this.data.num=t,t<=0||this.data.type===p?(this.isDestroy=!0,this.ani_role.node.active=!0,this.ani_role.play("out_"+this.data.type)):this.setNum(),l.emit(g.flyHideAni,this.data.idx)},s.setNum=function(){this.lb_num.string=""+this.data.num,E.avatarLoader(this.sp_card,"animation/card/card_"+this.data.type)},s._touchStart=function(t){if(!f.isPause){this.oldParent=this.node.parent,_.setParent(this.node);var e=t.touch.getUILocation();this._setPosition(e.x,e.y)}},s._touchMove=function(t){if(!f.isPause){var e=t.touch.getUILocation();this._setPosition(e.x,e.y)}},s._touchEnd=function(t){if(!f.isPause){var e=t.touch.getUILocation(),n=_.getMapPos(),i=m.countPosToDataIndex(e.x-n.x,e.y-n.y);if(this._setPosition(0,0),i<0)this.node.setParent(this.oldParent);else{var o=_.getMapItem(i),s=0===o.children.length;this.node.setParent(s?o:this.oldParent),s&&this.onSuc(i)}}},s._touchCancel=function(t){f.isPause||(this._setPosition(0,0),this.node.setParent(this.oldParent))},s._setPosition=function(t,e){this.node.setPosition(t,e)},s.onSuc=function(t){this.removeEvent(),this.showUi(!1),this.data.idx=t;var n=f.reduceListCount(this.data);this.data.num!==n&&(this.data.num=n,this.setNum()),f.placeItem(t).forEach((function(t){var n=_.getMapItem(t.idx);n&&n.children.length>0&&n.children[0].getComponent(e).reduceNum(t.num)}))},e}(d)).prototype,"sp_card",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(S.prototype,"lb_num",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=e(S.prototype,"ani_role",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=S))||D));s._RF.pop()}}}));

System.register("chunks:///_virtual/KuaishouSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Tools.ts","./EventCenter.ts","./NetworkManager.ts","./danmu.ts","./EventData2.ts"],(function(t){"use strict";var e,r,n,s,a,i,o,u,c;return{setters:[function(t){e=t.asyncToGenerator,r=t.regeneratorRuntime},function(t){n=t.cclegacy},function(t){s=t.tools},function(t){a=t.eventCenter},function(t){i=t.networkManager},function(t){o=t.DanmuMessage,u=t.initToken},function(t){c=t.EventID}],execute:function(){n._RF.push({},"4413f0muExHyZXs5ETEF4Ue","KuaishouSDK",void 0);var f=t("KuaishouMessage",{Chat:"liveComment",Gift:"giftSend"});t("KuaishouSDK",function(){function t(t){this.parsers={},this.anchor=void 0,this.cfg=t}var n=t.prototype;return n.init=function(t){return this.opts=t,i.onReceive(proto.sdk.kuaishou.DanmuRoute.Push,proto.sdk.kuaishou.PushMessage,this.onPushMsg.bind(this)),this.parsers[f.Chat]=this.parseChat,this.parsers[f.Gift]=this.parseGift,this.parsers[o.Start]=this.parseStart,this},n.start=function(){var t=e(r().mark((function t(){var e,n,o;return r().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e=s.queryParams(),n=e.code){t.next=5;break}return a.fire(c.SHOW_ERROR_INFO,"参数错误: "+JSON.stringify(e)),t.abrupt("return",!1);case 5:return t.next=7,u(this.opts.gameID,this.opts.platform,{appID:this.cfg.appID,code:n,playID:""+this.cfg.playID});case 7:if(t.sent){t.next=11;break}return a.fire(c.SHOW_ERROR_INFO,"初始化token失败"),t.abrupt("return",!1);case 11:return o=i.Token,t.next=14,i.websocketConnect(this.cfg.danmu+"/"+o);case 14:return t.abrupt("return",t.sent);case 15:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}(),n.onPushMsg=function(t){var e=this.parsers[t.pushType];if(e){var r=null;try{r=JSON.parse(t.payload)}catch(e){return void console.error("反序列化数据错误",t.pushType,t.payload)}e.call(this,r)}},n.parseStart=function(t){this.anchor=t,a.fire(o.Start,this.anchor)},n.parseChat=function(t){a.fire(o.Chat,{openID:""+t.userInfo.userId,avatar:t.userInfo.headUrl,nickname:t.userInfo.userName,message:t.content})},n.parseGift=function(t){a.fire(o.Gift,{openID:""+t.userInfo.userId,avatar:t.userInfo.headUrl,nickname:t.userInfo.userName,giftID:t.giftId})},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/LevelView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./UIConfig.ts","./UIManager.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var n,t,i,o,r,c,l,s,a,u;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.ScrollView},null,function(e){s=e.VIEW_UID},function(e){a=e.uiManager},function(e){u=e.ViewBaseComponent}],execute:function(){var p,f,v,w,V;r._RF.push({},"67753ppaF9Icpl5+X2J2PCC","LevelView",void 0);var h=c.ccclass,y=c.property;e("LevelView",(p=h("LevelView"),f=y(l),p((V=n((w=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),c=0;c<t;c++)r[c]=arguments[c];return n=e.call.apply(e,[this].concat(r))||this,i(n,"scroll",V,o(n)),n}t(n,e);var r=n.prototype;return r.onInit=function(){},r.onEvent=function(){},r.onClick=function(){var e=this;a.loadView(s.GAME_VIEW).then((function(){e.closeView()}),(function(){e.closeView()}))},n}(u)).prototype,"scroll",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=w))||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/live-custom.ts",["cc","./LiveGame.ts","./SdkManager.ts","./danmu.ts","./EventCenter.ts","./FloatTips.ts","./UIManager.ts","./ScheduleManager.ts","./NetworkManager.ts","./Tools.ts","./UIConfig2.ts","./SpriteLoader.ts","./Logger.ts","./ViewBaseComponent.ts","./UIGridView.ts","./ConfigManager.ts","./NodePool2.ts","./Preloaders2.ts","./StepWork.ts","./ResourceLoader.ts","./LoadingView.ts","./WaitingView.ts","./LocalStorageManager.ts"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy},function(n){var o={};o.LiveEvent=n.LiveEvent,o.liveGame=n.liveGame,e(o)},function(n){e("sdkManager",n.sdkManager)},function(n){var o={};o.DMTongji=n.DMTongji,o.DanmuMessage=n.DanmuMessage,o.initToken=n.initToken,e(o)},function(n){e("eventCenter",n.eventCenter)},function(n){e("FloatTips",n.FloatTips)},function(n){e("uiManager",n.uiManager)},function(n){e("scheduleManager",n.scheduleManager)},function(n){e("networkManager",n.networkManager)},function(n){e("tools",n.tools)},function(n){var o={};o.UI_CACHE=n.UI_CACHE,o.UI_LOADING=n.UI_LOADING,o.uiConfig=n.uiConfig,e(o)},function(n){e("SpriteLoader",n.SpriteLoader)},function(n){var o={};o.LogLevel=n.LogLevel,o.Logger=n.Logger,o.logger=n.logger,e(o)},function(n){e("ViewBaseComponent",n.ViewBaseComponent)},function(n){e("UIGridView",n.UIGridView)},function(n){e("configManager",n.configManager)},function(n){e("NodePool",n.NodePool)},function(n){var o={};o.preloadNodePool=n.preloadNodePool,o.preloadSpines=n.preloadSpines,o.preloadUIPrefab=n.preloadUIPrefab,e(o)},function(n){e("StepWork",n.StepWork)},function(n){e("resourceLoader",n.resourceLoader)},function(n){e("LoadingView",n.LoadingView)},function(n){e("WaitingView",n.WaitingView)},function(n){var o={};o.SAVE_TAG=n.SAVE_TAG,o.localStorageMgr=n.localStorageMgr,e(o)}],execute:function(){n._RF.push({},"4416dqmTrVFkb8GNcqtnaRL","live-custom",void 0),n._RF.pop()}}}));

System.register("chunks:///_virtual/LiveGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./app3.ts","./ConfigManager.ts","./EventCenter.ts","./EventData2.ts","./Logger.ts","./UIManager.ts","./NetworkManager.ts","./danmu.ts","./SdkManager.ts","./Tools.ts"],(function(t){"use strict";var e,n,r,o,i,a,s,u,c,g,f,l,p,m;return{setters:[function(t){e=t.asyncToGenerator,n=t.regeneratorRuntime},function(t){r=t.cclegacy,o=t.game},function(t){i=t.getGameConfig},function(t){a=t.configManager},function(t){s=t.eventCenter},function(t){u=t.EventID},function(t){c=t.logger},function(t){g=t.uiManager},function(t){f=t.networkManager},function(t){l=t.DMTongji},function(t){p=t.sdkManager},function(t){m=t.tools}],execute:function(){r._RF.push({},"3df69rU8uRGlp5jFZRXgejp","LiveGame",void 0);var h=t("LiveEvent",{Start:"live-start",Over:"live-over"});t("liveGame",new(function(){function t(){this.isFirst=!0,this.isConnecting=!1,this.reconnectInterval=null}var r=t.prototype;return r.onStart=function(t){var e;null==(e=p.thinking)||e.gameStart(t.openID,t.nickname)},r.onStop=function(){var t;null==(t=p.thinking)||t.gameStop(),s.fire(h.Over)},r.onQuit=function(t){this.onStop(),g.showMessageBox({content:t.msg,titleStr:"提示"})},r.onChat=function(t){l.addTotalRecord(t.openID)},r.onGift=function(t){var e;null==(e=p.thinking)||e.track("Gift",{audienceID:t.openID,itemID:t.giftID,itemNum:t.giftNum})},r.showErrorMessage=function(t){c.error(t),g.showMessageBox({titleStr:"错误提示",content:t})},r.onMessageConnected=function(){c.debug("网络已连接"),g.showTips("网络已连接")},r.onMessageClosed=function(){c.warn("网络链接断开, 正在尝试重连..."),g.showTips("网络链接断开, 正在尝试重连...")},r.onMessageError=function(){g.showMessageBox({content:"重连失败，请确定网络状态，重启游戏",titleStr:"提示",leftStr:"确定",leftCallback:function(){o.end()}})},r.init=function(){var t=e(n().mark((function t(e){var r,o,c,g,l,h;return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s.register(u.NETWORK_CONNECTED,this,this.onMessageConnected),s.register(u.NETWORK_CLOSED,this,this.onMessageClosed),s.register(u.NETWORK_ERROR,this,this.onMessageError),s.register(u.SHOW_ERROR_INFO,this,this.showErrorMessage),f.init({apiDomain:e.apiDomain,gameID:e.gameID,platform:0,gameKey:e.gameKey,maxRetry:3}),o={gameID:e.gameID,platform:e.platform,mode:e.mode},f.setSign(o),t.next=9,i(o);case 9:if(c=t.sent){t.next=13;break}return this.showErrorMessage("解析启动配置失败, 网络错误"),t.abrupt("return",!1);case 13:if(g=JSON.parse(null!=(r=c.config)?r:'""')){t.next=17;break}return this.showErrorMessage("获取启动配置失败, 配置错误"),t.abrupt("return",!1);case 17:return Object.assign(e,g),f.reset({apiDomain:e.apiDomain}),p.init(e,{platform:0,gameID:e.gameID}),l=m.urlIncluded("audit")?"audit.json":"game_config_client.json",t.next=23,a.init(e.remoteCfg+"/"+e.platform+"/"+l+"?"+Date.now());case 23:return(h=t.sent)||this.showErrorMessage("获取游戏配置失败"),t.abrupt("return",h);case 26:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}(),r.start=function(){var t=e(n().mark((function t(){return n().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,p.danmu.start();case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),t}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/LoadingView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var r;e._RF.push({},"99a92YkuRtOtL+iDzisZKdH","LoadingView",void 0);var c=n.ccclass;n.property,t("LoadingView",c("LoadingView")(r=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.show=function(t){this.node.active=!0,t&&t()},n.hide=function(){this.node.active=!1},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/LocalStorageManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ScheduleManager.ts"],(function(t){"use strict";var e,c,a,s,u;return{setters:[function(t){e=t.createClass},function(t){c=t.cclegacy,a=t.sys},function(t){s=t.logger},function(t){u=t.scheduleManager}],execute:function(){c._RF.push({},"0420ajRJWlLxYJT0aM6Ks9l","LocalStorageManager",void 0);var n={removeItem:function(){},setItem:function(){},getItem:function(){},clear:function(){}};t("SAVE_TAG",{MUSIC_VOLUME:"MUSIC_VOLUME",AUDIO_VOLUME:"AUDIO_VOLUME",MUSIC_STATE:"MUSIC_STATE",AUDIO_STATE:"AUDIO_STATE"}),t("localStorageMgr",new(function(){function t(){this._account="",this._userData=null,this._commCache=null,this._cacheQueue=null,this._schedulerID=null,this._cacheQueue=new Map,this._commCache=new Map,this._setAccount()}var c=t.prototype;return c._setAccount=function(){this._account=this.getLocalStorage("account")||"account_null"},c._setUserData=function(){if(this._checkAccount()){var t=this._getItem(this._account)||null;if(t)try{this._userData=JSON.parse(t)}catch(t){this._userData={}}else this._userData={}}},c._storeUserData=function(){if(this._checkAccount()){var t=JSON.stringify(this._userData);this._setItem(this._account,t)}},c._checkAccount=function(){return!(!this._account&&(this._setAccount(),!this._account))||(s.error("LocalStorageManager","account is not exist"),!1)},c.setLocalStorage=function(t,e){this._commCache.set(""+t,e);var c="string"==typeof e?e:JSON.stringify(e);this._setItem(""+t,c)},c.getLocalStorage=function(t){var e;if(this._commCache.has(""+t))return this._commCache.get(""+t);var c=this._getItem(t);if(c)try{e=JSON.parse(c),this._commCache.set(""+t,e)}catch(t){e=null}return e},c.removeLocalStorage=function(t){this._commCache.has(""+t)&&this._commCache.delete(""+t),this.localStorage.removeItem(t+"")},c.clearLocalStorage=function(){this.localStorage.clear()},c.setAccountStorage=function(t,e){this._userData||this._setUserData(),this._userData&&(this._userData[t]=e,this._storeUserData())},c.getAccountStorage=function(t){return this._userData&&null!=this._userData[t]?this._userData[t]:null},c.removeAccountStorage=function(t){this._userData&&null!=this._userData[t]&&(delete this._userData[t],this._storeUserData())},c._setItem=function(t,e){this._cacheQueue.set(t,e),null==this._schedulerID&&this._save()},c._getItem=function(t){return this.localStorage.getItem&&this.localStorage.getItem(t+"")||null},c._save=function(){var t=this;this._cacheQueue&&0!=this._cacheQueue.size&&(this._schedulerID=u.schedule((function(){if(!t._cacheQueue||0==t._cacheQueue.size)return t._schedulerID&&u.unschedule(t._schedulerID),void(t._schedulerID=null);var e=t._cacheQueue.entries().next(),c=e.value[0],a=e.value[1];t._cacheQueue.delete(c),t.localStorage.setItem(c,a)}),0))},e(t,[{key:"localStorage",get:function(){try{if(a&&a.localStorage)return a.localStorage}catch(t){}return n}},{key:"account",get:function(){return this._account},set:function(t){this._account=t,this._setUserData()}}]),t}()));c._RF.pop()}}}));

System.register("chunks:///_virtual/Logger.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){"use strict";var r,o;return{setters:[function(n){r=n.createClass},function(n){o=n.cclegacy}],execute:function(){var e;n("LogLevel",void 0),o._RF.push({},"9b8876IFElDZJnYVgn9SWvk","Logger",void 0),function(n){n[n.Debug=0]="Debug",n[n.Info=1]="Info",n[n.Warn=2]="Warn",n[n.Error=3]="Error"}(e||(e=n("LogLevel",{})));var t=e.Debug,a=n("Logger",function(){function n(n){this.name=n}var o=n.prototype;return o.debug=function(){if(n.LEVEL<=e.Debug){for(var r,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];(r=console).log.apply(r,[this.name].concat(t))}},o.info=function(){if(n.LEVEL<=e.Info){for(var r,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];(r=console).info.apply(r,[this.name].concat(t))}},o.warn=function(){if(n.LEVEL<=e.Warn){for(var r,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];(r=console).warn.apply(r,[this.name].concat(t))}},o.error=function(){if(n.LEVEL<=e.Error){for(var r,o=arguments.length,t=new Array(o),a=0;a<o;a++)t[a]=arguments[a];(r=console).error.apply(r,[this.name].concat(t)),window.onerror&&window.onerror(this.name+"|"+t.join(","))}},o.log=function(){for(var n,r=arguments.length,o=new Array(r),e=0;e<r;e++)o[e]=arguments[e];return(n=console).log.apply(n,[this.name].concat(o)),this},r(n,null,[{key:"LEVEL",get:function(){return t},set:function(n){t=n}}]),n}());n("logger",new a("Logger"));o._RF.pop()}}}));

System.register("chunks:///_virtual/MailView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(t){"use strict";var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},null,function(t){o=t.ViewBaseComponent}],execute:function(){var c;n._RF.push({},"8a616kxs/5ETpbcSzPBDIKp","MailView",void 0);var s=i.ccclass;i.property,t("MailView",s("MailView")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onInit=function(){},i.onEvent=function(){},i.onClickClose=function(){this.closeView()},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./app.ts","./appComponents.ts","./App4.ts","./AppConfig.ts","./AppConst2.ts","./AppEnum2.ts","./AppType2.ts","./Paths.ts","./Tools2.ts","./EventData.ts","./NodePool.ts","./Preloaders.ts","./SpineManager.ts","./UIConfig.ts","./ContactConfig.ts","./GameConfigManager.ts","./AppConst.ts","./AppEnum.ts","./AppType.ts","./live-custom.ts","./AnimationClipManager.ts","./DataManager.ts","./GlobalManager.ts","./ModelBase.ts","./OperationBase.ts","./OperationGame.ts","./ActivityView.ts","./BagView.ts","./CardView.ts","./FarmView.ts","./GameView.ts","./HomeView.ts","./LevelView.ts","./MailView.ts","./MainScene.ts","./PicView.ts","./RankView.ts","./RewardView.ts","./SetView.ts","./ShopView.ts","./ItemHideAni.ts","./ItemShowAni.ts","./ItemVeg.ts","./Utils.ts","./LiveGame.ts","./app3.ts","./appComponents2.ts","./app2.ts","./appComponents3.ts","./AStarPath.ts","./AudioManager.ts","./ConfigManager.ts","./FSMachine.ts","./LocalStorageManager.ts","./ScheduleManager.ts","./SkeletonManager.ts","./StepWork.ts","./BgAdapter.ts","./ButtonExt.ts","./FloatTips.ts","./ItemTips.ts","./LoadingView.ts","./MessageBoxView.ts","./UIGridView.ts","./WaitingView.ts","./WatcherComponent.ts","./WatcherHelper.ts","./DynamicAtlasLabel.ts","./DynamicAtlasMgr.ts","./atlas.ts","./EventCenter.ts","./EventData2.ts","./Logger.ts","./CrashReport.ts","./NodePool2.ts","./Preloaders2.ts","./RefCount.ts","./ResourceLoader.ts","./ResourcePreloader.ts","./UIConfig2.ts","./UIManager.ts","./ViewBaseComponent.ts","./SpriteLoader.ts","./UIHelper.ts","./md5.ts","./HeartBeat.ts","./HttpRequest.ts","./NetworkManager.ts","./WebsocketRequest.ts","./SdkManager.ts","./BilibiliSDK.ts","./danmaku-websocket.min.mjs_cjs=&original=.js","./Browser.ts","./danmu.ts","./DouyinSDK.ts","./KuaishouSDK.ts","./ThinkingSDK.ts","./thinkingdata.mg.cocoscreator.min.mjs_cjs=&original=.js","./Tools.ts"],(function(){"use strict";return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MainScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./UIConfig.ts","./Preloaders.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var r,s,o,t,n,i,c,a,u,l,p,g,f,h,d;return{setters:[function(e){r=e.applyDecoratedDescriptor,s=e.inheritsLoose,o=e.initializerDefineProperty,t=e.assertThisInitialized,n=e.asyncToGenerator,i=e.regeneratorRuntime,c=e.createClass},function(e){a=e.cclegacy,u=e._decorator,l=e.ProgressBar},null,function(e){p=e.VIEW_UID},function(e){g=e.preloadItemVegPool,f=e.preloadItemShowAniPool,h=e.preloadItemHideAniPool},function(e){d=e.ViewBaseComponent}],execute:function(){var P,m,v,y,B;a._RF.push({},"9ac4fY4FIZLRYUCheilpHGT","MainScene",void 0);var I=u.ccclass,_=u.property;e("MainScene",(P=I("MainScene"),m=_(l),P((B=r((y=function(e){function r(){for(var r,s=arguments.length,n=new Array(s),i=0;i<s;i++)n[i]=arguments[i];return r=e.call.apply(e,[this].concat(n))||this,o(r,"progressBar",B,t(r)),r._curProgress=0,r}s(r,e);var a=r.prototype;return a.onInit=function(){for(var e=this,r=0;r<5;r++)this.scheduleOnce((function(){return e.curProgress=e._curProgress+.17}),.3*r);this.stepWork.concact(g()).concact(f()).concact(h()).start(n(i().mark((function r(){return i().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:e.curProgress=1,e.scheduleOnce((function(){return e.removeProgress()}),.2),e.loadSubView(p.HOME_VIEW);case 3:case"end":return r.stop()}}),r)}))))},a.onRelease=function(){this.releaseSubView()},a.updateProgress=function(){this.progressBar&&(this.progressBar.progress=this._curProgress)},a.removeProgress=function(){this.progressBar.node.removeFromParent(),this.progressBar.node.destroy(),this.unscheduleAllCallbacks()},c(r,[{key:"curProgress",set:function(e){e>1||(this._curProgress=e,this.updateProgress())}}]),r}(d)).prototype,"progressBar",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=y))||v));a._RF.pop()}}}));

System.register("chunks:///_virtual/md5.ts",["cc"],(function(r){"use strict";var n;return{setters:[function(r){n=r.cclegacy}],execute:function(){r("hex_md5",(function(r){return function(r){for(var n="0123456789abcdef",t="",u=0;u<4*r.length;u++)t+=n.charAt(r[u>>2]>>u%4*8+4&15)+n.charAt(r[u>>2]>>u%4*8&15);return t}(function(r,n){r[n>>5]|=128<<n%32,r[14+(n+64>>>9<<4)]=n;for(var t=1732584193,i=-271733879,a=-1732584194,h=271733878,s=0;s<r.length;s+=16){var v=t,d=i,g=a,l=h;t=u(t,i,a,h,r[s+0],7,-680876936),h=u(h,t,i,a,r[s+1],12,-389564586),a=u(a,h,t,i,r[s+2],17,606105819),i=u(i,a,h,t,r[s+3],22,-1044525330),t=u(t,i,a,h,r[s+4],7,-176418897),h=u(h,t,i,a,r[s+5],12,1200080426),a=u(a,h,t,i,r[s+6],17,-1473231341),i=u(i,a,h,t,r[s+7],22,-45705983),t=u(t,i,a,h,r[s+8],7,1770035416),h=u(h,t,i,a,r[s+9],12,-1958414417),a=u(a,h,t,i,r[s+10],17,-42063),i=u(i,a,h,t,r[s+11],22,-1990404162),t=u(t,i,a,h,r[s+12],7,1804603682),h=u(h,t,i,a,r[s+13],12,-40341101),a=u(a,h,t,i,r[s+14],17,-1502002290),t=e(t,i=u(i,a,h,t,r[s+15],22,1236535329),a,h,r[s+1],5,-165796510),h=e(h,t,i,a,r[s+6],9,-1069501632),a=e(a,h,t,i,r[s+11],14,643717713),i=e(i,a,h,t,r[s+0],20,-373897302),t=e(t,i,a,h,r[s+5],5,-701558691),h=e(h,t,i,a,r[s+10],9,38016083),a=e(a,h,t,i,r[s+15],14,-660478335),i=e(i,a,h,t,r[s+4],20,-405537848),t=e(t,i,a,h,r[s+9],5,568446438),h=e(h,t,i,a,r[s+14],9,-1019803690),a=e(a,h,t,i,r[s+3],14,-187363961),i=e(i,a,h,t,r[s+8],20,1163531501),t=e(t,i,a,h,r[s+13],5,-1444681467),h=e(h,t,i,a,r[s+2],9,-51403784),a=e(a,h,t,i,r[s+7],14,1735328473),t=c(t,i=e(i,a,h,t,r[s+12],20,-1926607734),a,h,r[s+5],4,-378558),h=c(h,t,i,a,r[s+8],11,-2022574463),a=c(a,h,t,i,r[s+11],16,1839030562),i=c(i,a,h,t,r[s+14],23,-35309556),t=c(t,i,a,h,r[s+1],4,-1530992060),h=c(h,t,i,a,r[s+4],11,1272893353),a=c(a,h,t,i,r[s+7],16,-155497632),i=c(i,a,h,t,r[s+10],23,-1094730640),t=c(t,i,a,h,r[s+13],4,681279174),h=c(h,t,i,a,r[s+0],11,-358537222),a=c(a,h,t,i,r[s+3],16,-722521979),i=c(i,a,h,t,r[s+6],23,76029189),t=c(t,i,a,h,r[s+9],4,-640364487),h=c(h,t,i,a,r[s+12],11,-421815835),a=c(a,h,t,i,r[s+15],16,530742520),t=o(t,i=c(i,a,h,t,r[s+2],23,-995338651),a,h,r[s+0],6,-198630844),h=o(h,t,i,a,r[s+7],10,1126891415),a=o(a,h,t,i,r[s+14],15,-1416354905),i=o(i,a,h,t,r[s+5],21,-57434055),t=o(t,i,a,h,r[s+12],6,1700485571),h=o(h,t,i,a,r[s+3],10,-1894986606),a=o(a,h,t,i,r[s+10],15,-1051523),i=o(i,a,h,t,r[s+1],21,-2054922799),t=o(t,i,a,h,r[s+8],6,1873313359),h=o(h,t,i,a,r[s+15],10,-30611744),a=o(a,h,t,i,r[s+6],15,-1560198380),i=o(i,a,h,t,r[s+13],21,1309151649),t=o(t,i,a,h,r[s+4],6,-145523070),h=o(h,t,i,a,r[s+11],10,-1120210379),a=o(a,h,t,i,r[s+2],15,718787259),i=o(i,a,h,t,r[s+9],21,-343485551),t=f(t,v),i=f(i,d),a=f(a,g),h=f(h,l)}return Array(t,i,a,h)}(function(r){for(var n=Array(),t=255,u=0;u<8*r.length;u+=8)n[u>>5]|=(r.charCodeAt(u/8)&t)<<u%32;return n}(r),8*r.length))})),n._RF.push({},"d6a68PbeBBEuYfw6WsA+q0T","md5",void 0);function t(r,n,t,u,e,c){return f((o=f(f(n,r),f(u,c)))<<(i=e)|o>>>32-i,t);var o,i}function u(r,n,u,e,c,o,f){return t(n&u|~n&e,r,n,c,o,f)}function e(r,n,u,e,c,o,f){return t(n&e|u&~e,r,n,c,o,f)}function c(r,n,u,e,c,o,f){return t(n^u^e,r,n,c,o,f)}function o(r,n,u,e,c,o,f){return t(u^(n|~e),r,n,c,o,f)}function f(r,n){var t=(65535&r)+(65535&n);return(r>>16)+(n>>16)+(t>>16)<<16|65535&t}n._RF.pop()}}}));

System.register("chunks:///_virtual/MessageBoxView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./ViewBaseComponent.ts","./ScheduleManager.ts"],(function(t){"use strict";var e,i,l,n,r,o,a,s,c,u,h;return{setters:[function(t){e=t.applyDecoratedDescriptor,i=t.inheritsLoose,l=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){r=t.cclegacy,o=t._decorator,a=t.Label,s=t.Node,c=t.Button},function(t){u=t.ViewBaseComponent},function(t){h=t.scheduleManager}],execute:function(){var b,f,g,p,w,C,B,v,y,d,m,k,V,L,z,S,T;r._RF.push({},"db2f72J8EJI+JwIxEPrsWHa","MessageBoxView",void 0);var M=o.ccclass,x=o.property;t("MessageBoxView",(b=M("MessageBoxView"),f=x(a),g=x(s),p=x(a),w=x(s),C=x(a),B=x(a),v=x(c),b((m=e((d=function(t){function e(){for(var e,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return e=t.call.apply(t,[this].concat(r))||this,l(e,"content",m,n(e)),l(e,"leftButton",k,n(e)),l(e,"leftLabel",V,n(e)),l(e,"rightButton",L,n(e)),l(e,"rightLabel",z,n(e)),l(e,"lbTitle",S,n(e)),l(e,"btnClose",T,n(e)),e.leftCallback=void 0,e.rightCallback=void 0,e}i(e,t);var r=e.prototype;return r.onInit=function(t){var e,i,l,n=this;this.content.string=t.content,this.leftCallback=t.leftCallback,this.rightCallback=t.rightCallback,this.lbTitle.string=null!=(e=t.titleStr)?e:"",this.lbTitle.node.active=!!t.titleStr,this.btnClose.node.active=!!t.closeBtn,this.rightLabel.string=null!=(i=t.rightStr)?i:"",this.rightButton.active=!!t.rightStr,this.leftLabel.string=null!=(l=t.leftStr)?l:"",this.leftButton.active=!!t.leftStr,this.leftButton.parent.active=this.leftButton.active||this.rightButton.active,"number"==typeof t.autoCloseTime&&t.autoCloseTime>0&&h.scheduleOnce((function(){return n.closeView()}),t.autoCloseTime)},r.onDestroy=function(){},r.onClickLeft=function(){this.leftCallback?(this.leftCallback(this),this.closeView()):this.closeView()},r.onClickRight=function(){this.rightCallback?(this.rightCallback(this),this.closeView()):this.closeView()},e}(u)).prototype,"content",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),k=e(d.prototype,"leftButton",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),V=e(d.prototype,"leftLabel",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),L=e(d.prototype,"rightButton",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),z=e(d.prototype,"rightLabel",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),S=e(d.prototype,"lbTitle",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),T=e(d.prototype,"btnClose",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),y=d))||y));r._RF.pop()}}}));

System.register("chunks:///_virtual/ModelBase.ts",["cc","./live-custom.ts","./Logger.ts"],(function(t){"use strict";var n,e;return{setters:[function(t){n=t.cclegacy},null,function(t){e=t.logger}],execute:function(){n._RF.push({},"71cbfPyfJ1MT5p37FPIy2qb","ModelBase",void 0);t("default",function(){function t(){}var n=t.prototype;return n.init=function(){var t=this.constructor.toString().match(/\w+/g)[1];e.warn("ModelBase",t+" maybe not init!")},n.deInit=function(){var t=this.constructor.toString().match(/\w+/g)[1];e.warn("ModelBase",t+" maybe not deInit! ")},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/NetworkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventData2.ts","./EventCenter.ts","./Logger.ts","./Tools.ts","./HttpRequest.ts","./WebsocketRequest.ts"],(function(e){"use strict";var t,n,r,s,i,o,a,c,u,h;return{setters:[function(e){t=e.createClass,n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){s=e.cclegacy},function(e){i=e.EventID},function(e){o=e.eventCenter},function(e){a=e.Logger},function(e){c=e.tools},function(e){u=e.default},function(e){h=e.default}],execute:function(){s._RF.push({},"c2e10Z/G61Mq5uYBNTDJDgp","NetworkManager",void 0);var f=new a("NetworkManager");e("networkManager",new(function(){function e(){this._websocketRequest=new h,this._httpRequest=new u,this._receiveMap=new Map,this._headerToken=void 0,this._headers={},this._messageCallback=void 0,this._openCallback=void 0,this._closeCallback=void 0,this._errorCallback=void 0,this._wsUrl=void 0,this._retryCount=0,this._roomID=""}var s=e.prototype;return s.init=function(e){this._opts=e},s.reset=function(e){e.apiDomain&&this._opts.apiDomain!==e.apiDomain&&(this._opts.apiDomain=e.apiDomain)},s.websocketConnect=function(){var e=n(r().mark((function e(t,n,s,a,c){var u=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._messageCallback=function(e){n&&n(),u._websocketReceive(e)},this._openCallback=function(){s&&s(),o.fire(i.NETWORK_CONNECTED)},this._closeCallback=function(e){a&&a(),u._websocketClosed(e),o.fire(i.NETWORK_CLOSED)},this._errorCallback=function(){c&&c(),o.fire(i.NETWORK_ERROR)},this._wsUrl=t,e.next=7,this.connect();case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return function(t,n,r,s,i){return e.apply(this,arguments)}}(),s.connect=function(){return this._websocketRequest.connect(this._wsUrl,"arraybuffer",this._messageCallback,this._openCallback,this._closeCallback,this._errorCallback)},s.websocketClose=function(){this._websocketRequest&&this._websocketRequest.close()},s.websocketSendOperate=function(e,t){},s.websocketSend=function(e){this._websocketRequest&&this._websocketRequest.send(e)},s._websocketReceive=function(e){},s._websocketClosed=function(){var e=n(r().mark((function e(t){var s=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(f.log("websocketClosed code:",t),1e3!==t){e.next=3;break}return e.abrupt("return");case 3:this._retryCount++,this._retryCount<=this._opts.maxRetry?setTimeout(n(r().mark((function e(){return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s.connect();case 2:e.sent&&(s._retryCount=0);case 4:case"end":return e.stop()}}),e)}))),1e3):o.fire(i.NETWORK_ERROR);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),s.onReceive=function(e,t,n){var r=this._receiveMap.get(e);r||(r={parser:t,callbackArray:[]},this._receiveMap.set(e,r));for(var s=r.callbackArray,i=0;i<s.length;i++)if(s[i]===n)return;r.callbackArray.push(n)},s.offReceive=function(e,t){if(this._receiveMap){var n=this._receiveMap.get(e);if(n)if(t){for(var r=n.callbackArray,s=0;s<r.length;s++)if(r[s]===t)return r.splice(s,1),void(0==t.length&&this._receiveMap.delete(e))}else this._receiveMap.delete(e)}},s.httpSend=function(){var e=n(r().mark((function e(t,n,s,i,o){var a=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){a._httpRequest.request(t,n,s,i,!1,o).then((function(t){return e(t)})).catch((function(t){console.error(t),e(null)}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,r,s,i){return e.apply(this,arguments)}}(),s.setHeaderToken=function(e){this._headerToken=e,this._headers={Authorization:e}},s.setSign=function(e){var t=c.signature(e,this._opts.gameKey);this._headers={Authorization:t}},s.post=function(){var e=n(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpSend(this._opts.apiDomain+t,n,0,!0,this._headers);case 2:return s=e.sent,e.abrupt("return",JSON.parse(null!=s?s:'""'));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),s.get=function(){var e=n(r().mark((function e(t,n){var s;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.httpSend(this._opts.apiDomain+t,n,0,!1,this._headers);case 2:return s=e.sent,e.abrupt("return",JSON.parse(null!=s?s:'""'));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}(),t(e,[{key:"Token",get:function(){return this._headerToken}},{key:"roomID",get:function(){return this._roomID},set:function(e){this._roomID=e}}]),e}()));s._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool.ts",["cc","./live-custom.ts","./ItemVeg.ts","./ItemShowAni.ts","./ItemHideAni.ts","./NodePool2.ts"],(function(t){"use strict";var o,e,n,i,m;return{setters:[function(t){o=t.cclegacy},null,function(t){e=t.ItemVeg},function(t){n=t.ItemShowAni},function(t){i=t.ItemHideAni},function(t){m=t.NodePool}],execute:function(){o._RF.push({},"3f232gGrvhBZ6K9P3p46HT7","NodePool",void 0);t("ItemVegPool",new m({path:"prefab/item/ItemVeg",maxCount:50,initCount:3,poolComp:e})),t("ItemShowAniPool",new m({path:"prefab/item/ItemShowAni",maxCount:5,initCount:1,poolComp:n})),t("ItemHideAniPool",new m({path:"prefab/item/ItemHideAni",maxCount:5,initCount:1,poolComp:i}));o._RF.pop()}}}));

System.register("chunks:///_virtual/NodePool2.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ResourceLoader.ts"],(function(e){"use strict";var t,o,n,i,r,s;return{setters:[function(e){t=e.createClass},function(e){o=e.cclegacy,n=e.v3,i=e.instantiate},function(e){r=e.logger},function(e){s=e.resourceLoader}],execute:function(){o._RF.push({},"97b73r9MGtE6K+0A8gkv0bl","NodePool",void 0),e("NodePool",function(){function e(e){this._freePool=[],this._usedPool=[],this._prefab=null,this.info=e}var o=e.prototype;return o.get=function(t){if(!this._prefab)return r.error(e.TAG,"没有加载预制体: "+this.path),null;var o=null;return 0===this._freePool.length?o=this._loadItemNode():(o=this._freePool.pop()).isValid||(r.error(e.TAG,"找到一个无效对象: "+this.path),o=null),o?(this._addToUsed(o),o.active=!0,t?o.getComponent(t):o):null},o.put=function(t){var o=this;if(t&&t.isValid){t.active=!1;var n=this._usedPool.some((function(e,n){return e===t&&(o._usedPool.splice(n,1),o._releaseItem(t),o._addToFree(t)||t.destroy(),!0)}));n||(n=this._freePool.some((function(o){return o===t&&(r.warn(e.TAG,"节点请不要释放多次，已经释放过的，请不要再次释放！name = "+o.name),!0)})))||(r.debug(e.TAG,"销毁对象 name = "+t.name+", uuid = "+t.uuid+", 当前池数量： "+this.nowCount),this._releaseItem(t),t.destroy())}},o.release=function(){var t=this;this._usedPool.length>0&&(r.error(e.TAG,"there still "+this._usedPool.length+" node in use. Are u sure released all Item = "+this.path),[].concat(this._usedPool).forEach((function(e){t.put(e)})),this._usedPool.length=0);this._freePool.forEach((function(e){t._releaseItem(e),e.destroy()})),this._freePool.length=0,this._prefab&&(s.release(this.path),this._prefab=null)},o._releaseItem=function(e){if(this.info.poolComp){var t=e.getComponent(this.info.poolComp);t&&t.deInit()}e.position=n(),e.removeFromParent()},o._loadItemNode=function(){return i(this._prefab)},o._addToUsed=function(e){return this.nowCount<this.maxCount&&(this._usedPool.push(e),!0)},o._addToFree=function(t){return this.nowCount<this.maxCount&&(this._freePool.indexOf(t)>=0?r.error(e.TAG,"You can't put same item twice. itemType = "+t.name):this._freePool.push(t),!0)},o.preloadPrefab=function(e){var t=this;this._prefab?e():s.load(this.path).then((function(o){t._prefab=o,e()})).catch((function(t){e(t)}))},o.preloadOneFrameItem=function(){for(var e=!1,t=0;t<this.createPreFrame;t++)if(this.nowCount<this.initCount){var o=this._loadItemNode();this._addToFree(o),e=!0}return e},t(e,[{key:"path",get:function(){return this.info.path}},{key:"initCount",get:function(){return this.info.initCount||this.info.maxCount}},{key:"maxCount",get:function(){return this.info.maxCount}},{key:"createPreFrame",get:function(){return this.info.createPreFrame||1}},{key:"nowCount",get:function(){return this._freePool.length+this._usedPool.length}}]),e}()).TAG="NodePool",o._RF.pop()}}}));

System.register("chunks:///_virtual/OperationBase.ts",["cc"],(function(t){"use strict";var n;return{setters:[function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"7d72aNGV+RHiZhOS2TFa2sx","OperationBase",void 0);t("OperationBase",function(){function t(){}var n=t.prototype;return n.init=function(){},n.deInit=function(){},n.checkMsgValid=function(){return!0},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/OperationGame.ts",["./rollupPluginModLoBabelHelpers.js","cc","./OperationBase.ts"],(function(t){"use strict";var e,n,i;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy},function(t){i=t.OperationBase}],execute:function(){n._RF.push({},"5fac7g4yjRF4LzRthCYlzIM","OperationGame",void 0);t("operationGame",new(function(t){function n(){return t.apply(this,arguments)||this}return e(n,t),n.prototype.init=function(){},n}(i)));n._RF.pop()}}}));

System.register("chunks:///_virtual/Paths.ts",["cc"],(function(t){"use strict";var c;return{setters:[function(t){c=t.cclegacy}],execute:function(){c._RF.push({},"4ba42/43IpDK7+PKwATMUC5","Paths",void 0);t("PATHS",{101:{101:[],102:[20,1,21,102],103:[20,23,2,24,27,103],104:[20,23,5,25,26,104],1:[20,1],2:[20,23,2],3:[20,23,5,22,3],4:[20,23,5,25,26,4],5:[20,23,5],20:[20],23:[20,23],21:[20,1,21],22:[20,1,21,22],24:[20,23,2,24],27:[20,23,2,24,27],25:[20,23,5,25],26:[20,23,5,25,26]},102:{101:[21,1,20,101],102:[],103:[21,22,5,24,27,103],104:[21,22,3,25,26,104],1:[21,1],2:[21,22,5,23,2],3:[21,22,3],4:[21,22,5,25,26,4],5:[21,22,5],20:[21],23:[21,22,5,23],21:[21],22:[21,22],24:[21,22,5,24],27:[21,22,5,24,27],25:[21,22,3,25],26:[21,22,3,25,26]},103:{101:[27,24,2,23,20,101],102:[27,24,5,22,21,102],103:[],104:[27,4,26,104],1:[27,24,5,23,20,1],2:[27,24,2],3:[27,24,5,25,3],4:[27,4],5:[27,24,5],20:[27,24,5,23,20],23:[27,24,5,23],21:[27,24,5,22,21],22:[27,24,5,22],24:[27,24],27:[27],25:[27,24,5,25],26:[27,4,26]},104:{101:[26,25,5,23,20,101],102:[26,25,3,22,21,102],103:[26,4,27,103],104:[],1:[26,25,5,22,21,1],2:[26,25,5,24,2],3:[26,25,3],4:[26,4],5:[26,25,5],20:[26,25,5,23,20],23:[26,25,5,23],21:[26,25,3,22,21],22:[26,25,3,22],24:[26,25,5,24],27:[26,4,27],25:[26,25],26:[26]},1:{101:[20,101],102:[21,102],103:[20,23,5,24,27,103],104:[21,22,5,25,26,104],1:[],2:[20,23,2],3:[21,22,3],4:[21,22,5,24,27,4],5:[20,23,5],20:[20],23:[20,23],21:[21],22:[21,22],24:[20,23,5,24],27:[20,23,5,24,27],25:[21,22,5,25],26:[21,22,5,25,26]},2:{101:[23,20,101],102:[23,20,1,21,102],103:[24,27,103],104:[24,27,4,26,104],1:[23,20,1],2:[],3:[24,5,22,3],4:[24,27,4],5:[24,5],20:[23,20],23:[23],21:[23,20,1,21],22:[24,5,22],24:[24],27:[24,27],25:[24,5,25],26:[24,27,4,26]},3:{101:[22,21,1,20,101],102:[22,21,102],103:[25,26,4,27,103],104:[25,26,104],1:[22,21,1],2:[25,5,23,2],3:[],4:[25,26,4],5:[22,5],20:[22,21,1,20],23:[25,5,23],21:[25,5,23],22:[22],24:[25,5,24],27:[25,26,4,27],25:[25],26:[25,26]},4:{101:[27,24,2,23,20,101],102:[26,25,3,22,21,102],103:[27,103],104:[26,104],1:[27,24,5,23,20,1],2:[27,24,2],3:[26,25,3],4:[],5:[26,25,5],20:[27,24,2,23,20],23:[27,24,2,23],21:[26,25,3,22,21],22:[26,25,3,22],24:[27,24],27:[27],25:[26,25],26:[26]},5:{101:[23,20,101],102:[22,21,102],103:[24,27,103],104:[25,26,104],1:[22,21,1],2:[23,2],3:[25,3],4:[24,27,4],5:[],20:[23,20],23:[23],21:[22,21],22:[22],24:[24],27:[24,27],25:[25],26:[25,26]},20:{101:[101],102:[1,21,102],103:[23,2,24,27,103],104:[23,5,25,26,104],1:[1],2:[23,2],3:[23,5,22,3],4:[23,5,25,26,4],5:[23,5],20:[],23:[23],21:[1,21],22:[23,5,22],24:[23,2,24],27:[23,2,24,27],25:[23,5,25],26:[23,5,25,26]},23:{101:[20,101],102:[5,22,21,102],103:[2,24,27,103],104:[5,25,26,104],1:[20,1],2:[2],3:[5,25,3],4:[2,24,27,4],5:[5],20:[20],23:[],21:[5,22,21],22:[5,22],24:[2,24],27:[2,24,27],25:[5,25],26:[5,25,26]},21:{101:[1,20,101],102:[102],103:[22,5,24,27,103],104:[22,3,25,26,104],1:[1],2:[22,5,23,2],3:[22,3],4:[22,5,25,26,4],5:[22,5],20:[1,20],23:[22,5,23],21:[],22:[22],24:[22,5,24],27:[22,5,24,27],25:[22,5,25],26:[22,5,25,26]},22:{101:[21,1,20,101],102:[21,102],103:[5,24,27,103],104:[3,25,26,104],1:[21,1],2:[5,23,2],3:[3],4:[5,25,26,4],5:[5],20:[21,1,20],23:[5,23],21:[21],22:[],24:[5,24],27:[5,24,27],25:[5,25],26:[5,25,26]},27:{101:[24,2,23,20,101],102:[24,5,22,21,102],103:[103],104:[4,26,104],1:[24,5,23,20,1],2:[24,2],3:[24,5,25,3],4:[4],5:[24,5],20:[24,2,23,20],23:[24,2,23],21:[24,5,22,21],22:[24,5,22],24:[24],27:[],25:[24,5,25],26:[4,26]},24:{101:[2,23,20,101],102:[5,22,21,102],103:[27,103],104:[27,4,26,104],1:[5,23,20,1],2:[2],3:[5,25,3],4:[27,4],5:[5],20:[2,23,20],23:[2,23],21:[5,22,21],22:[5,22],24:[],27:[27],25:[5,25],26:[27,4,26]},26:{101:[25,5,23,20,101],102:[25,3,22,21,102],103:[4,27,103],104:[104],1:[25,5,22,21,1],2:[25,5,24,2],3:[25,3],4:[4],5:[25,5],20:[25,5,23,20],23:[25,5,23],21:[25,3,22,21],22:[25,5,22],24:[25,5,24],27:[4,27],25:[25],26:[]},25:{101:[5,23,20,101],102:[3,22,21,102],103:[26,4,27,103],104:[26,104],1:[5,22,21,1],2:[5,24,2],3:[3],4:[26,4],5:[5],20:[5,23,20],23:[5,23],21:[3,22,21],22:[5,22],24:[5,24],27:[26,4,27],25:[],26:[26]}}),t("GROUP_POINT",{1:[21,22,1,102,5,3],2:[25,26,5,3,4,104],3:[24,27,2,5,103,4],4:[20,23,101,1,2,5]});c._RF.pop()}}}));

System.register("chunks:///_virtual/PicView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(t){"use strict";var e,n,i,o;return{setters:[function(t){e=t.inheritsLoose},function(t){n=t.cclegacy,i=t._decorator},null,function(t){o=t.ViewBaseComponent}],execute:function(){var c;n._RF.push({},"91674Exf5lCLoGD/NHFR4tW","PicView",void 0);var s=i.ccclass;i.property,t("PicView",s("PicView")(c=function(t){function n(){return t.apply(this,arguments)||this}e(n,t);var i=n.prototype;return i.onInit=function(){},i.onEvent=function(){},i.onClickClose=function(){this.closeView()},n}(o))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/Preloaders.ts",["cc","./live-custom.ts","./NodePool.ts","./Preloaders2.ts"],(function(o){"use strict";var e,t,n,r,l;return{setters:[function(o){e=o.cclegacy},null,function(o){t=o.ItemVegPool,n=o.ItemShowAniPool,r=o.ItemHideAniPool},function(o){l=o.preloadNodePool}],execute:function(){e._RF.push({},"2fbafV3jnBAm4Ws7+a8zIhd","Preloaders",void 0);o("preloadItemVegPool",(function(){return l("ItemVegPool",t)})),o("preloadItemShowAniPool",(function(){return l("ItemShowAniPool",n)})),o("preloadItemHideAniPool",(function(){return l("ItemHideAniPool",r)}));e._RF.pop()}}}));

System.register("chunks:///_virtual/Preloaders2.ts",["cc","./Logger.ts","./ResourceLoader.ts","./ResourcePreloader.ts","./UIConfig2.ts"],(function(e){"use strict";var r,n,o,a;return{setters:[function(e){r=e.cclegacy},null,function(e){n=e.resourceLoader},function(e){o=e.ResourcePreloader},function(e){a=e.uiConfig}],execute:function(){e("preloadNodePool",(function(e,r){for(var n=o.addLoader({name:e+"PrefabLoader",loadeHandler:function(e,n){r.preloadPrefab(n)},releaseHandler:function(e){},arrResource:[""+e]}),a=[],t=r.nowCount,c=r.createPreFrame,d=t;d<r.initCount;d+=c){var u=Math.min(d+c,r.initCount);a.push(e+"Node"+d+"-"+u)}var i=o.addLoader({name:e+"NodeLoader",loadeHandler:function(e){r.preloadOneFrameItem()},releaseHandler:function(e){},arrResource:a});return n.stepWork.concact(i.stepWork)})),r._RF.push({},"eeb49y+C09A1JWdR6tPRdmr","Preloaders",void 0);e("preloadUIPrefab",(function(){return o.addLoader({name:"UIPreloader",loadeHandler:function(e,r){var o=a.getConfig(e);o&&n.load(o.path).then((function(){r()})).catch((function(e){r(e)}))},releaseHandler:function(e){},arrResource:a.getAllUI().filter((function(e){return e.preload})).map((function(e){return e.id}))})})),e("preloadSpines",(function(e){return o.addLoader({name:"SpinePreloader",loadeHandler:function(e,r){n.load(e).then((function(e){r()})).catch((function(e){r(e)}))},releaseHandler:function(e){n.release(e)},arrResource:[].concat(e)})}));r._RF.pop()}}}));

System.register("chunks:///_virtual/RankView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(n){"use strict";var e,t,o,i;return{setters:[function(n){e=n.inheritsLoose},function(n){t=n.cclegacy,o=n._decorator},null,function(n){i=n.ViewBaseComponent}],execute:function(){var s;t._RF.push({},"86a20mo8xZPsoBpDn5fySe/","RankView",void 0);var c=o.ccclass;o.property,n("RankView",c("RankView")(s=function(n){function t(){return n.apply(this,arguments)||this}e(t,n);var o=t.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},t}(i))||s);t._RF.pop()}}}));

System.register("chunks:///_virtual/RefCount.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,n;return{setters:[function(t){e=t.createClass},function(t){n=t.cclegacy}],execute:function(){n._RF.push({},"3ca1eBSzB1H8ofg87Om3MHW","RefCount",void 0);t("default",function(){function t(t){this._res=null,this._count=0,this._res=t,this._count=1}var n=t.prototype;return n.retain=function(){return++this._count},n.release=function(){return--this._count},e(t,[{key:"asset",get:function(){return this._res}},{key:"ref",get:function(){return this._count}}]),t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ResourceLoader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var n,r,t,u,o,i;return{setters:[function(e){n=e.asyncToGenerator,r=e.regeneratorRuntime},function(e){t=e.cclegacy,u=e.assetManager,o=e.AssetManager},function(e){i=e.Logger}],execute:function(){t._RF.push({},"55707ZD569COKzVDCstXbx7","ResourceLoader",void 0);var a=new i("ResourceLoader");e("resourceLoader",new(function(){function e(){this._cache=new Map}var t=e.prototype;return t.load=function(){var e=n(r().mark((function e(n,t){var u,o,i=this;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=/^http/.test(n),o=u?this._loadFromRemote(n):this._loadWithBundle(n,t),e.abrupt("return",o.then((function(e){return e&&e.addRef(),a.debug(n+" 当前资源的引用计数: "+e.refCount),i._cache.set(n,e),e})));case 3:case"end":return e.stop()}}),e,this)})));return function(n,r){return e.apply(this,arguments)}}(),t.preload=function(){var e=n(r().mark((function e(n,t,i){var c;return r().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=null!=t?t:o.BuiltinBundleName.RESOURCES,e.abrupt("return",new Promise((function(e,r){u.loadBundle(c,(function(r,t){if(r)return a.error("加载资源包"+c+"错误",r),void e(!1);t.preload(n,(function(e,n){i&&i(e/n)}),(function(r){if(r)return a.error("加载资源"+n+"错误",r),void e(!1);e(!0)}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(n,r,t){return e.apply(this,arguments)}}(),t.loadBundles=function(e,n,r,t){var o=e.length,i=0,c=0,s=e.map((function(e){return new Promise((function(r,s){u.loadBundle(e,(function(u,s){u?(a.error("加载资源包"+e+"错误",u),c++):a.debug("加载完资源包"+e),n.call(t,++i/o),r(s)}))}))}));Promise.all(s).then((function(){return r.call(t,c)}))},t._loadFromRemote=function(e){return a.debug("加载远程资源："+e),new Promise((function(n,r){var t;t=e.indexOf(".png")>-1||e.indexOf(".jpg")>-1||e.indexOf(".jpeg")>-1?null:{ext:".png"},u.loadRemote(e,t,(function(t,u){if(t)return a.error("加载资源"+e+"错误",t),r("加载资源"+e+"错误");n(u)}))}))},t._loadWithBundle=function(e,n){var r=null!=n?n:o.BuiltinBundleName.RESOURCES;return new Promise((function(n,t){u.loadBundle(r,(function(t,u){if(t)return a.error("加载资源包"+r+"错误",t);u.load(e,(function(r,t){if(r)return a.error("加载资源"+e+"错误",r);n(t)}))}))}))},t.release=function(e){var n=this._cache.get(e);n&&(n.decRef(),a.debug("释放资源: "+e+", 当前计数: "+n.refCount),0===n.refCount&&(u.releaseAsset(n),this._cache.delete(e)))},t.checkCacheValid=function(e){return this._cache.has(e)},e}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/ResourcePreloader.ts",["./rollupPluginModLoBabelHelpers.js","cc","./StepWork.ts"],(function(e){"use strict";var r,n,t;return{setters:[function(e){r=e.createClass},function(e){n=e.cclegacy},function(e){t=e.StepWork}],execute:function(){n._RF.push({},"06369N0WtlF2bcXriOt0C+P","ResourcePreloader",void 0);var o=e("PreloaderValue",function(){function e(e){this._info=null,this._arrRes=[],this._stepWork=null,this._info=e,this._stepWork=new t}var n=e.prototype;return n.release=function(){var e=this;this._arrRes.forEach((function(r){e._info.releaseHandler(r)})),this._arrRes.length=0},n.addRes=function(e){this._arrRes.push(e)},n.toString=function(){return this._arrRes.join("++")},r(e,[{key:"name",get:function(){return this._info.name}},{key:"stepWork",get:function(){return this._stepWork}}]),e}());e("ResourcePreloader",function(){function e(){}return e.addLoader=function(e){var r=new o(e),n=r.stepWork,t=e.loadeHandler.length>1;return e.arrResource.forEach((function(o){t?n.addTask((function(n){e.loadeHandler(o,(function(e){e||r.addRes(o),n(e)}))}),"Preloader_"+o):n.addTask((function(){e.loadeHandler(o),r.addRes(o)}),"Preloader_"+o)})),r},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/RewardView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},null,function(e){i=e.ViewBaseComponent}],execute:function(){var r;n._RF.push({},"090feJ0Io9OKqnGvUu5tuIj","RewardView",void 0);var c=o.ccclass;o.property,e("RewardView",c("RewardView")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},n}(i))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ScheduleManager.ts",["cc"],(function(e){"use strict";var n;return{setters:[function(e){n=e.cclegacy}],execute:function(){n._RF.push({},"76eef0O8NdPjLleTQEBnN3j","ScheduleManager",void 0);e("scheduleManager",new(function(){function e(){this._seq=0,this._handlers=new Map,this._ccInst=null}var n=e.prototype;return n.init=function(e){this._ccInst=e},n.scheduleOnceByDirect=function(e,n){this._ccInst.scheduleOnce(e,n)},n.scheduleOnce=function(e,n){var t=this,c=this._newId(),s=function(){t._handlers.has(c)&&e(),t._removeHandler(c)};return this._handlers.set(c,s),this._ccInst.scheduleOnce(s,n),c},n.schedule=function(e,n,t,c){var s=this._newId(),r=function(n){e(n)};return this._handlers.set(s,r),this._ccInst.schedule(r,n,t,c),s},n.unschedule=function(e){this._handlers.has(e)&&(this._ccInst.unschedule(this._handlers.get(e)),this._removeHandler(e))},n.nextFrame=function(e,n){for(var t=arguments.length,c=new Array(t>2?t-2:0),s=2;s<t;s++)c[s-2]=arguments[s];this.scheduleOnce((function(){return e.call.apply(e,[n].concat(c))}),0)},n._removeHandler=function(e){this._handlers.delete(e)},n._newId=function(){return++this._seq},e}()));n._RF.pop()}}}));

System.register("chunks:///_virtual/SdkManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./BilibiliSDK.ts","./Browser.ts","./DouyinSDK.ts","./KuaishouSDK.ts","./ThinkingSDK.ts"],(function(i){"use strict";var n,t,u,s,e,o,h;return{setters:[function(i){n=i.createClass},function(i){t=i.cclegacy},function(i){u=i.BilibiliSDK},function(i){s=i.Browser},function(i){e=i.DouyinSDK},function(i){o=i.KuaishouSDK},function(i){h=i.ThinkingSDK}],execute:function(){t._RF.push({},"e4d3aqMl9VBE7Nr7ywFypQf","SdkManager",void 0);i("sdkManager",new(function(){function i(){this._thinking=void 0}var t=i.prototype;return t.init=function(i,n){this._initThinkSdk(i.thinking,n),this._initDouyinSdk(i.douyin,n),this._initBilibili(i.bilibili,n),this._initKuaishou(i.kuaishou,n),this._danmu?"test"===i.mode&&s.registerCmd():this._danmu=(new s).init(n)},t._initThinkSdk=function(i,n){i&&(this._thinking=new h(i).init(n))},t._initDouyinSdk=function(i,n){i&&(this._danmu=new e(i).init(n))},t._initBilibili=function(i,n){i&&(this._danmu=new u(i).init(n))},t._initKuaishou=function(i,n){i&&(this._danmu=new o(i).init(n))},n(i,[{key:"danmu",get:function(){return this._danmu}},{key:"thinking",get:function(){return this._thinking}}]),i}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/SetView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./AppEnum.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i,c,s;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator,i=e.director},null,function(e){c=e.EventType},function(e){s=e.ViewBaseComponent}],execute:function(){var r;n._RF.push({},"01957Tq/YxFPZIrA0Lt6Rgr","SetView",void 0);var u=o.ccclass;o.property,e("SetView",u("SetView")(r=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickCloseGame=function(){this.closeView(),i.emit(c.closeGame)},o.onClickClose=function(){this.closeView()},n}(s))||r);n._RF.pop()}}}));

System.register("chunks:///_virtual/ShopView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./live-custom.ts","./ViewBaseComponent.ts"],(function(e){"use strict";var t,n,o,i;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,o=e._decorator},null,function(e){i=e.ViewBaseComponent}],execute:function(){var c;n._RF.push({},"485e6hANqdFhKBIW731J/OI","ShopView",void 0);var s=o.ccclass;o.property,e("ShopView",s("ShopView")(c=function(e){function n(){return e.apply(this,arguments)||this}t(n,e);var o=n.prototype;return o.onInit=function(){},o.onEvent=function(){},o.onClickClose=function(){this.closeView()},n}(i))||c);n._RF.pop()}}}));

System.register("chunks:///_virtual/SkeletonManager.ts",["cc","./Logger.ts","./ResourceLoader.ts"],(function(n){"use strict";var e,t,o,r,a,i;return{setters:[function(n){e=n.cclegacy,t=n.Node,o=n.sp,r=n.isValid},function(n){a=n.logger},function(n){i=n.resourceLoader}],execute:function(){e._RF.push({},"e494a+v9sRB9oNXU2XJD5So","SkeletonManager",void 0);n("default",new(function(){function n(){}var e=n.prototype;return e.loadSkeletonData=function(n){return new Promise((function(e,t){i.load(n).then((function(n){e(n)})).catch((function(n){t(n)}))}))},e.loadSkeleton=function(n){var e=this;return new Promise((function(r,a){e.loadSkeletonData(n).then((function(n){var e=(new t).addComponent(o.Skeleton);e.skeletonData=n,e.premultipliedAlpha=!1,r(e)})).catch((function(n){a(n)}))}))},e.releaseSkeletonData=function(n){i.release(n)},e.releaseSkeleton=function(n,e){e&&r(e.node)&&(e.node.removeFromParent(),e.node.destroy(),i.release(n))},e.findAnimation=function(n,e){var t=n.getRuntimeData(!0);if(!t)return a.error("SkeletonManager","Can not find SkeletonCache in skeleton."),null;for(var o=t.animations,r=0;r<o.length;++r)if(o[r].name==e)return o[r];return null},e.parseAnimations=function(n){var e=[],t=n.skeletonJson.animations;for(var o in t){var r=this.findAnimation(n,o);r&&e.push(r)}return e},e.parseSkin=function(n){var e=[],t=n.skeletonJson.skins;for(var o in t)t.hasOwnProperty(o)&&e.push(o);return e},n}()));e._RF.pop()}}}));

System.register("chunks:///_virtual/SpineManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var e,r,i,s,n;return{setters:[function(t){e=t.inheritsLoose},function(t){r=t.cclegacy,i=t._decorator,s=t.sp,n=t.Component}],execute:function(){var a;r._RF.push({},"6a1f6sSYKxDFLrsBs41Sm8z","SpineManager",void 0);var o=i.ccclass,c=(i.property,0);t("test",o("test")(a=function(t){function r(){return t.apply(this,arguments)||this}return e(r,t),r.prototype.start=function(){s.Skeleton.prototype._render=function(t){if(this._renderData&&this._drawList){var e=this._renderData,r=e.chunk,i=r.vertexAccessor,s=e.getMeshBuffer(),n=s.indexOffset;c=0,i.appendIndices(r.bufferId,e.indices);for(var a=0;a<this._drawList.length;a++){var o=this._drawList.data[a];o.texture&&(c+=o.indexCount)}if(this._drawList.length>0){this._drawIdx=this._drawList.length-1;var u=this._drawList.data[0];if(u.texture){var d=s.requireFreeIA(t.device);d.firstIndex=n,d.indexCount=c,t.commitIA(this,d,u.texture,u.material,this.node)}}}}},r}(n))||a);r._RF.pop()}}}));

System.register("chunks:///_virtual/SpriteLoader.ts",["cc","./Logger.ts","./ResourceLoader.ts"],(function(e){"use strict";var t,r,a,i,n;return{setters:[function(e){t=e.cclegacy,r=e.ImageAsset,a=e.SpriteFrame},function(e){i=e.logger},function(e){n=e.resourceLoader}],execute:function(){t._RF.push({},"61d87aHcgxJ675edVYJDJI8","SpriteLoader",void 0),e("SpriteLoader",function(){function e(){this._loaded=new Map,this._cache=new Map}var t=e.prototype;return t.release=function(){i.debug(e.TAG,"释放已加载sprite资源: "+this._loaded.size),this._loaded.forEach((function(e){return e.spTarget.spriteFrame=null})),this._loaded.clear(),this._cache.forEach((function(e,t){n.release(t)})),this._cache.clear()},t.changeSpriteP=function(t,r,a){var n=this;return new Promise((function(c,s){n.changeSprite(t,r,(function(t){t?(i.error(e.TAG,"更换精灵帧错误"+r,t),c(!1)):c(!0)}),a)}))},t.changeSprite=function(t,c,s,o){var h=this;if(t){var u=/^http/.test(c);if(-1!=c.indexOf("/spriteFrame")||u||(c+="/spriteFrame"),this._loaded.has(t))if(this._loaded.get(t).url===c)return void(s&&s());if(this._cache.has(c)){var d=this._cache.get(c);return t.spriteFrame=d,this._loaded.set(t,{url:c,spTarget:t}),void(s&&s())}i.debug(e.TAG,"精灵 "+t.name+" 加载 "+c),n.load(c,o).then((function(e){if(t&&e){h._cache.has(c)&&(h._cache.delete(c),n.release(c));var i=null;e instanceof r?(i=a.createWithImage(e)).packable=!1:i=e,i instanceof a&&(t.spriteFrame=i),h._cache.set(c,i),h._loaded.set(t,{url:c,spTarget:t}),s&&s()}else s&&s("Can not change sprite for NULL!!!")})).catch((function(e){return s&&s(e)}))}else s&&s("Can not change sprite for NULL!!!")},e}()).TAG="SpriteLoader",t._RF.pop()}}}));

System.register("chunks:///_virtual/StepWork.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./ScheduleManager.ts"],(function(t){"use strict";var s,e,i,r,n;return{setters:[function(t){s=t.createClass,e=t.inheritsLoose},function(t){i=t.cclegacy},function(t){r=t.logger},function(t){n=t.scheduleManager}],execute:function(){var u;i._RF.push({},"a319b+AlCBH8qGgdZpx/O+S","StepWork",void 0),function(t){t[t.NONE=0]="NONE",t[t.DOING=1]="DOING",t[t.FINISH=2]="FINISH"}(u||(u={}));var h;!function(t){t[t.SYNC=0]="SYNC",t[t.ASYNC=1]="ASYNC"}(h||(h={}));var o,a=function(){function t(t,s){this._state=u.NONE,this._name="",this._jobHandler=null,this._type=h.SYNC,this._jobHandler=s,this._name=t}return t.prototype.exec=function(){r.warn("StepWork","need overwrite exec from BaseTask")},s(t,[{key:"state",get:function(){return this._state},set:function(t){this._state=t}},{key:"name",get:function(){return this._name}},{key:"finished",get:function(){return this._state===u.FINISH}},{key:"type",get:function(){return this._type}}]),t}(),c=function(t){function s(s,e){var i;return(i=t.call(this,s,e)||this)._type=h.SYNC,i}return e(s,t),s.prototype.exec=function(){this.state===u.NONE&&(this.state=u.DOING,this._jobHandler&&this._jobHandler(),this.state=u.FINISH)},s}(a),_=function(t){function s(s,e){var i;return(i=t.call(this,s,e)||this)._type=h.ASYNC,i}return e(s,t),s.prototype.exec=function(){var t=this;this.state===u.NONE&&(this.state=u.DOING,this._jobHandler&&this._jobHandler((function(s){t.state=u.FINISH,s&&r.error("StepWork","AsyncTask name = "+t.name+" execute failed. err = "+s)})))},s}(a);!function(t){t[t.NONE=0]="NONE",t[t.DOING=1]="DOING",t[t.DOING_SUB=2]="DOING_SUB",t[t.FINISH=3]="FINISH"}(o||(o={}));t("StepWork",function(){function t(t){void 0===t&&(t=10),this._state=o.NONE,this._handler=null,this._scheduleId=0,this._timeoutId=0,this._timeout=0,this._currIndex=0,this._currPriorityIndex=0,this._subWork=null,this._tasksWithPriority=[],this._timeout=t}var e=t.prototype;return e.isAsyncHandler=function(t){return t.length>0},e.addTask=function(t,s,e){return void 0===s&&(s="defaultJob"),void 0===e&&(e=0),this.isAsyncHandler(t)?this._addTask(new _(s,t),e):this._addTask(new c(s,t),e)},e.start=function(t){var s=this;void 0===t&&(t=null),this._state===o.NONE&&(this._state=o.DOING,this._handler=t,0==this._scheduleId&&(this._scheduleId=n.schedule((function(){s._update()}),0),this._timeoutId=n.scheduleOnce((function(){r.warn("StepWork","work has already Timeout. need check work!!!!")}),this._timeout)))},e.stop=function(){this._currIndex=0,this._currPriorityIndex=0,this._tasksWithPriority=[],this._scheduleId&&n.unschedule(this._scheduleId),this._timeoutId&&n.unschedule(this._timeoutId),this._scheduleId=0,this._timeoutId=0,this._state=o.NONE,this._handler=null,this._subWork&&this._subWork.stop(),this._subWork=null},e._finish=function(){this._handler&&this._handler(),this._handler=null,this.stop()},e._appendOneAsyncTask=function(){var t=this._currProcessTasks;return!!(t&&t.tasks.length>0)&&t.tasks.some((function(t){return t.type===h.ASYNC&&t.state===u.NONE&&(t.exec(),!0)}))},e._execSyncTask=function(){var t=this._currProcessTasks;if(t&&t.tasks.length>0)for(;this._currIndex<t.tasks.length;){var s=t.tasks[this._currIndex];if(s.type===h.SYNC&&s.state===u.NONE)return s.exec(),!0;++this._currIndex}return!1},e._allTaskFinished=function(){var t=this._currProcessTasks;return!t||0==this._leftAsyncTaskCount&&this._currIndex>=t.tasks.length},e._checkToGoNextPriority=function(){var t=this._currProcessTasks;t&&(t.tasks.some((function(t){return t.state!=u.FINISH}))||(this._currPriorityIndex++,this._currIndex=0))},e._update=function(){var t=this;if(this._state!==o.NONE&&this._state!==o.FINISH){var s=!0;this._currAsyncProcessTaskCount<5&&(s=this._appendOneAsyncTask());var e=this._execSyncTask();s||e||this._checkToGoNextPriority(),this._allTaskFinished()&&(this._subWork?(n.unschedule(this._scheduleId),this._scheduleId=0,this._state=o.DOING_SUB,this._subWork.start((function(){t._finish()}))):this._finish())}},e._getTasksWithPriority=function(t,s){void 0===s&&(s=!1);var e=null,i=this._tasksWithPriority.length;return this._tasksWithPriority.some((function(s,r){return s.priority===t?(e=s,!0):s.priority<t&&(i=r,!0)})),!e&&s&&(e={priority:t,tasks:[]},this._tasksWithPriority.splice(i,0,e)),e},e._addTask=function(t,s){return this._getTasksWithPriority(s,!0).tasks.push(t),this},e.concact=function(t){return this._state!==o.NONE?(r.error("StepWork","Can not add work for status = "+this._state),this):(this.addSubWork(t),this)},e.addSubWork=function(t){this._timeout=this._timeout+t.timeout,this._subWork?this._subWork.addSubWork(t):this._subWork=t},s(t,[{key:"length",get:function(){return this._tasksWithPriority.length+(this._subWork?this._subWork.length:0)}},{key:"timeout",get:function(){return this._timeout}},{key:"_currProcessTasks",get:function(){return this._currPriorityIndex<this._tasksWithPriority.length?this._tasksWithPriority[this._currPriorityIndex]:null}},{key:"_currAsyncProcessTaskCount",get:function(){var t=0,s=this._currProcessTasks;return s&&s.tasks.length>0&&s.tasks.forEach((function(s){s.type===h.ASYNC&&s.state===u.DOING&&++t})),t}},{key:"_leftAsyncTaskCount",get:function(){var t=0,s=this._currProcessTasks;return s&&s.tasks.length>0&&s.tasks.forEach((function(s){s.type===h.ASYNC&&s.state!==u.FINISH&&++t})),t}}]),t}());i._RF.pop()}}}));

System.register("chunks:///_virtual/ThinkingSDK.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./danmu.ts"],(function(t){"use strict";var e,i,n,o;return{setters:[function(t){e=t.createClass},function(t){i=t.cclegacy},function(t){n=t.Logger},function(t){o=t.DMTongji}],execute:function(){t("ThinkingMode",void 0),i._RF.push({},"da101lyUqVKcajthlno9tV5","ThinkingSDK",void 0);var a,r=new n("ThinkingSDK");!function(t){t.None="none",t.Debug="debug",t.DebugOnly="debugOnly"}(a||(a=t("ThinkingMode",{})));var u="GameStart",l="GameStop",c="RoundStart",s="RoundEnd",h="five_minute",d="Join";t("ThinkingSDK",function(){var t=i.prototype;function i(t){this.ta=void 0,this.inited=!1,this._roundStartTime=0,this.cfg=t}return t.callMethod=function(t){var e;if(this.inited){for(var i=arguments.length,n=new Array(i>1?i-1:0),o=1;o<i;o++)n[o-1]=arguments[o];return(e=this.ta)[t].apply(e,n)}},t.init=function(t,e){var i,n;return this.inited||!this.cfg?null:(this.inited=!0,this.ta=new ThinkingAnalyticsAPI({appId:this.cfg.thinkingID,serverUrl:null!=(i=this.cfg.thinkingUrl)?i:"https://data.q1.com",debugMode:null!=(n=this.cfg.mode)?n:a.None}),this.cfg.guestID&&this.ta.identify(this.cfg.guestID),this.ta.init(),t&&this.setPublicProperties(t),e&&this.userSetOnce(e),this)},t.login=function(t){this.callMethod("login",t)},t.logout=function(){this.callMethod("logout")},t.track=function(t,e,i){var n=this;this.callMethod("track",t,null!=e?e:{},null!=i?i:new Date,(function(e){0!==e.code?n.cfg.mode&&n.cfg.mode!==a.None||r.error("上报事件"+t+"错误:"+e.msg):r.debug("上报事件"+t+"成功")}))},t.gameStart=function(t,e){this._roundStartTime=Date.now(),this.login(t),this.userSetOnce({userID:t,nickname:e}),this.track(u)},t.gameStop=function(){this.track(l)},t.roundStart=function(){this._roundStartTime=Date.now(),o.clearAll(),this.track(c)},t.roundEnd=function(t){this.track(s,{DMValid:o.getValidCount(),DMTotal:o.getTotalCount(),DMValidPerson:o.getValidPopulation(),DMPerson:o.getTotalPopulation(),DMValidAudienceID:o.getValidPlayerID(),DMTotalAudienceID:o.getTotalPlayerID(),Duration:this._roundStartTime?Math.ceil((Date.now()-this._roundStartTime)/1e3):0,KillCount:t})},t.heart=function(t){this.track(t||h,{DMValid:o.getValidCount(),DMTotal:o.getTotalCount(),DMValidPerson:o.getValidPopulation(),DMPerson:o.getTotalPopulation(),DMValidAudienceID:o.getValidPlayerID(),DMTotalAudienceID:o.getTotalPlayerID(),Duration:this._roundStartTime?Math.ceil((Date.now()-this._roundStartTime)/1e3):0})},t.join=function(t){this.track(d,{audienceID:t})},t.timeEvent=function(t){this.callMethod("timeEvent",t)},t.setPublicProperties=function(t){this.callMethod("setSuperProperties",t)},t.delPublicProperty=function(t){this.callMethod("unsetSuperProperty",t)},t.clearPublicProperties=function(){this.callMethod("clearSuperProperties")},t.setDynamicProperties=function(t){this.callMethod("setDynamicSuperProperties",t)},t.userSet=function(t){this.callMethod("userSet",t)},t.userSetOnce=function(t){this.callMethod("userSetOnce",t)},t.pause=function(){this.callMethod("setTrackStatus","PAUSE")},t.stop=function(){this.callMethod("setTrackStatus","STOP")},t.resume=function(){this.callMethod("setTrackStatus","NORMAL")},e(i,[{key:"deviceID",get:function(){return this.callMethod("getDeviceId")}}]),i}());i._RF.pop()}}}));

System.register("chunks:///_virtual/Tools.ts",["cc","./md5.ts"],(function(n){"use strict";var r,t;return{setters:[function(n){r=n.cclegacy},function(n){t=n.hex_md5}],execute:function(){r._RF.push({},"45709qcZ8NO8byRcGSR0q9B","Tools",void 0);n("tools",new(function(){function n(){}var r=n.prototype;return r.deepCopy=function(n){var r=Array.isArray(n)?[]:{};if(n&&"object"==typeof n)for(var t in n)n.hasOwnProperty(t)&&(n[t]&&"object"==typeof n[t]?r[t]=this.deepCopy(n[t]):r[t]=n[t]);return null==n?null:r},r.signature=function(n,r){var e=Object.keys(n).sort(),o="";return e.forEach((function(r){void 0!==n[r]&&null!==n[r]&&(o+=n[r])})),t(o+r)},r.queryParams=function(){var n=window.location.search.slice(1).split("&"),r={};return n.forEach((function(n){var t=n.indexOf("="),e=n.slice(0,t),o=n.slice(t+1);r[e]=o})),r},r.urlIncluded=function(n){return-1!==window.location.href.indexOf(n)},r.strToUnit8Array=function(n){for(var r=[],t=0;t<n.length;t++)r.push(n.charCodeAt(t));return new Uint8Array(r)},n}()));r._RF.pop()}}}));

System.register("chunks:///_virtual/Tools2.ts",["cc","./live-custom.ts","./ContactConfig.ts","./GameConfigManager.ts","./AppConst2.ts","./UIManager.ts","./SpriteLoader.ts"],(function(t){"use strict";var n,e,r,a,o,i,u,c,s,l,f,h,g,d,p,v;return{setters:[function(t){n=t.cclegacy,e=t.Vec3,r=t.v2,a=t.sys,o=t.math,i=t.v3,u=t.TweenSystem,c=t.tween,s=t.UITransform},null,function(t){l=t.contactConfig},function(t){f=t.gameCfgManager},function(t){h=t.CAMP_COLOR,g=t.CAMP_RADIAN,d=t.NORMAL_SOLDIER_NAME},function(t){p=t.uiManager},function(t){v=t.SpriteLoader}],execute:function(){var A;t("READ_FILE_TYPE",void 0),n._RF.push({},"76096vVP51Jr7HkQg181XZQ","Tools",void 0),function(t){t[t.DATA_URL=0]="DATA_URL",t[t.TEXT=1]="TEXT",t[t.BINARY=2]="BINARY",t[t.ARRAYBUFFER=3]="ARRAYBUFFER"}(A||(A=t("READ_FILE_TYPE",{})));var m=t("Tools",function(){function t(){this.getSubVecRadians=function(t,n){var e=this.pSub(t,n);return this.getVecRadians(e)},this.getVecRadians=function(t){return Math.atan2(t.y,t.x)},this.avatarSpriteLoader=new v}var n=t.prototype;return n.deepCopy=function(t){var n=Array.isArray(t)?[]:{};if(t&&"object"==typeof t)for(var e in t)t.hasOwnProperty(e)&&(t[e]&&"object"==typeof t[e]?n[e]=this.deepCopy(t[e]):n[e]=t[e]);return null==t?null:n},n.getDirection=function(t,n){var r=new e;return e.subtract(r,n,t),r.normalize()},n.getAngle=function(t,n){var e=n.x-t.x,a=n.y-t.y;return 0===e&&0===a?0:-(r(e,a).signAngle(r(1,0))/Math.PI*180)},n.getRandom=function(t,n){return void 0===t&&(t=1),void 0===n&&(n=100),Math.round(Math.random()*(n-t)+t)},n.getRandomByWeight=function(t){var n=[0],e=0;t.forEach((function(t){e+=t,n.push(e)}));for(var r=Math.floor(Math.random()*e),a=0;a<n.length-1;a++){var o=n[a],i=n[a+1];if(r>=o&&r<i)return a}return 0},n.openLocalSaveFile=function(t,n){if(a.platform==a.Platform.DESKTOP_BROWSER){var e=new Blob([""+t],{type:"text/plain;charset=utf-8"});saveAs(e,n)}},n.openLocalFile=function(t,n){var e=this;if(a.platform==a.Platform.DESKTOP_BROWSER){var r=document.getElementById("file_input");r||((r=document.createElement("input")).id="file_input",r.setAttribute("id","file_input"),r.setAttribute("type","file"),r.setAttribute("class","fileToUpload"),r.style.opacity="0",r.style.position="absolute",r.setAttribute("left","-999px"),document.body.appendChild(r)),t=t||".*",r.setAttribute("accept",t),r.onchange=function(t){var a=r.files;if(a&&a.length>0){var o=a[0];e.readLocalFile(o,A.TEXT,n)}},r.click()}},n.readLocalFile=function(t,n,e){var r=new FileReader;switch(r.onload=function(t){e&&(r.readyState==FileReader.DONE?e(r.result):e(null))},n){case A.DATA_URL:r.readAsDataURL(t);break;case A.TEXT:r.readAsText(t);break;case A.BINARY:r.readAsBinaryString(t);break;case A.ARRAYBUFFER:r.readAsArrayBuffer(t)}},n.rand=function(t,n){return Math.ceil(Math.random()*(n-t+1)+t-1)},n.bCollide=function(t,n){var e=t.x?t.x:t.getPosition().x,r=t.y?t.y:t.getPosition().y,a=n.x?n.x:n.getPosition().x,o=n.y?n.y:n.getPosition().y,i=function(t){var n=t.x?t.anchorY:t.getComponent(s).anchorY,e=t.x?t.height:t.getComponent(s).height;return null!=n?(1-n)*e:.5*e},u=function(t){var n=t.x?t.anchorY:t.getComponent(s).anchorY,e=t.x?t.height:t.getComponent(s).height;return null!=n?n*e:.5*e},c=function(t){var n=t.x?t.anchorX:t.getComponent(s).anchorY,e=t.x?t.width:t.getComponent(s).width;return null!=n?n*e:.5*e},l=function(t){var n=t.x?t.anchorX:t.getComponent(s).anchorY,e=t.x?t.width:t.getComponent(s).width;return null!=n?(1-n)*e:.5*e},f=i(t),h=u(t),g=c(t),d=l(t),p=i(n),v=u(n),A=c(n),m=l(n),R=Math.abs(e-a),y=Math.abs(r-o),C=!1;return C=r>=o?y<=h+p:y<=v+f,(e<=a?R<=d+A:R<=g+m)&&C},n.getDistance=function(t,n){return Math.sqrt(this.getSquareDis(t,n))},n.getSquareDis=function(t,n){var e=t.x-n.x,r=t.y-n.y;return e*e+r*r},n.isInRange=function(t,n,e){return this.getSquareDis(t,n)<=e*e},n.getImage=function(t){return void 0!==t?t.replace(/^(http)[s]*(\:\/\/)/,"https://images.weserv.nl/?url="):""},n.randomPointInCircle=function(t,n,e){var r,a=null!=(r=g[e])?r:[0,360],u=o.toRadian(o.randomRange(a[0],a[1])),c=o.randomRange(e?40:3,n);return i(t.x+c*Math.cos(u),t.y+c*Math.sin(u),t.z)},n.lookAt=function(t,n){var r=e.subtract(i(),n,t).normalize();return o.toDegree(Math.atan2(r.y,r.x))},n.timeUp=function(t,n){return Date.now()-t>=n},n.sameDirection=function(t,n,r){var a=e.subtract(i(),n,t),o=e.subtract(i(),r,t);return e.dot(a,o)>=0},n.getCampColor=function(t,n){var e;return"<outline color=black width=1.5><color="+(null!=(e=h[t])?e:"#c376fa")+">"+n+"</color></outline>"},n.getSectionIdx=function(t,n){for(var e=t.length-1,r=0;r<t.length;r++)if(t[r]>=n){e=r;break}return e},n.strToSize=function(t,n,e,r){var a;void 0===n&&(n=12),void 0===e&&(e=!1),void 0===r&&(r="utf8");var o=0,i="",u="",c="";if(!t||"string"!=typeof t)return{f_str:i,size:o};r=(null==(a=r)?void 0:a.toLowerCase())||"";for(var s=0;s<t.length;s++){var l=t.charCodeAt(s);(o+="utf-16"===r||"utf16"===r?l<=65535?2:4:l<=127?1:l<=2047?2:l<=65535?3:4)<n?i+=t.charAt(s):c+=t.charAt(s),o===n&&(u=t.charAt(s))}return{f_str:i+=e?"\n"+c:o>n?"...":u,size:o}},n.isChinese=function(t){return/^[\u4e00-\u9fa5]+$/i.test(t)},n.shuffleArr=function(t,n){void 0===n&&(n=0);for(var e,r,a=Math.min(t.length,n||t.length);a>0;)e=Math.floor(Math.random()*a),r=t[a-1],t[a-1]=t[e],t[e]=r,a--;return t},n.playZoomAnim=function(t){0==u.instance.ActionManager.getNumberOfRunningActionsInTarget(t)&&c(t).to(.07,{scale:i(1.5,1.5)}).to(.04,{scale:i(1,1)}).start()},n.avatarLoader=function(t,n){this.avatarSpriteLoader.changeSprite(t,n)},n.avatarLoaderRelease=function(){this.avatarSpriteLoader.release()},n.showTips=function(t){l.GAME_IN_CATON&&!l.GAME_IN_PROGRESS||p.showTips(t)},n.getSoldierName=function(t){var n=d,e=f.HeroConfigMap[t];return e&&(n=e.Name),n},t}());t("tools",new m);n._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig.ts",["cc","./live-custom.ts","./UIConfig2.ts"],(function(e){"use strict";var i,a,I,V;return{setters:[function(e){i=e.cclegacy},null,function(e){a=e.uiConfig,I=e.UI_CACHE,V=e.UI_LOADING}],execute:function(){i._RF.push({},"6d88fpw065ICqsegGJ6VBWO","UIConfig",void 0);var E=e("VIEW_UID",{MAIN_SCENE:"MainScene",HOME_VIEW:"HomeView",GAME_VIEW:"GameView",MESSAGEBOXVIEW:"MessageBoxView",LEVEL_VIEW:"LevelView",BAG_VIEW:"BagView",ACTIVITY_VIEW:"ActivityView",REWARD_VIEW:"RewardView",SHOP_VIEW:"ShopView",FARM_VIEW:"FarmView",SET_VIEW:"SetView",CARD_VIEW:"CardView",PIC_VIEW:"PicView",MAIL_VIEW:"MailView"});a.add({id:E.MESSAGEBOXVIEW,path:"prefab/view/MessageBoxView",component:E.MESSAGEBOXVIEW}).add({id:E.MAIN_SCENE,path:"prefab/scene/MainScene",component:E.MAIN_SCENE,cacheMode:I.NONE}).add({id:E.HOME_VIEW,path:"prefab/view/HomeView",component:E.HOME_VIEW}).add({id:E.LEVEL_VIEW,path:"prefab/view/LevelView",component:E.LEVEL_VIEW,loading:V.LOADING}).add({id:E.GAME_VIEW,path:"prefab/view/GameView",component:E.GAME_VIEW,loading:V.LOADING}).add({id:E.BAG_VIEW,path:"prefab/view/BagView",component:E.BAG_VIEW,loading:V.LOADING}).add({id:E.ACTIVITY_VIEW,path:"prefab/view/ActivityView",component:E.ACTIVITY_VIEW,loading:V.LOADING}).add({id:E.REWARD_VIEW,path:"prefab/view/RewardView",component:E.REWARD_VIEW,loading:V.LOADING}).add({id:E.SHOP_VIEW,path:"prefab/view/ShopView",component:E.SHOP_VIEW,loading:V.LOADING}).add({id:E.FARM_VIEW,path:"prefab/view/FarmView",component:E.FARM_VIEW,loading:V.LOADING}).add({id:E.SET_VIEW,path:"prefab/view/SetView",component:E.SET_VIEW,loading:V.LOADING}).add({id:E.CARD_VIEW,path:"prefab/view/CardView",component:E.CARD_VIEW,loading:V.LOADING}).add({id:E.PIC_VIEW,path:"prefab/view/PicView",component:E.PIC_VIEW,loading:V.LOADING}).add({id:E.MAIL_VIEW,path:"prefab/view/MailView",component:E.MAIL_VIEW,loading:V.LOADING}),i._RF.pop()}}}));

System.register("chunks:///_virtual/UIConfig2.ts",["cc"],(function(n){"use strict";var t;return{setters:[function(n){t=n.cclegacy}],execute:function(){var i,o;n({UI_CACHE:void 0,UI_LOADING:void 0}),t._RF.push({},"732d2m7mFZHqJ8wdDa928Uz","UIConfig",void 0),function(n){n[n.NONE=1]="NONE",n[n.PREFAB=2]="PREFAB",n[n.NODE=3]="NODE"}(i||(i=n("UI_CACHE",{}))),function(n){n[n.NONE=0]="NONE",n[n.WAITING=1]="WAITING",n[n.LOADING=2]="LOADING"}(o||(o=n("UI_LOADING",{})));n("uiConfig",new(function(){function n(){this._uiInfo=new Map}var t=n.prototype;return t.getConfig=function(n){return this._uiInfo.has(n)?this._uiInfo.get(n):(this.add({id:n,path:n}),this.getConfig(n))},t.add=function(n){return n&&null==n.cacheMode&&(n.cacheMode=i.NONE),this._uiInfo.set(n.id,n),this},t.getAllUI=function(){var n=[];return this._uiInfo.forEach((function(t){n.push(t)})),n},n}()));t._RF.pop()}}}));

System.register("chunks:///_virtual/UIGridView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./UIHelper.ts"],(function(t){"use strict";var i,e,n,s,o,a,h,r,d,l,c,g,p,u,_,m,f,S,I,w,y;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,n=t.initializerDefineProperty,s=t.assertThisInitialized,o=t.extends,a=t.createClass},function(t){h=t.cclegacy,r=t._decorator,d=t.ScrollView,l=t.CCFloat,c=t.Enum,g=t.Size,p=t.Vec2,u=t.UITransform,_=t.v2,m=t.Widget,f=t.isValid,S=t.v3,I=t.Component},function(t){w=t.logger},function(t){y=t.uiHelper}],execute:function(){var v,z,R,U,T,C,P,L,x,A,b,E,V,k,N,D,B,O,M,F,G,Z;h._RF.push({},"cc3346RGzdF/otLZJwodntj","UIGridView",void 0),function(t){t[t.VERTICAL=0]="VERTICAL",t[t.HORIZONTAL=1]="HORIZONTAL"}(Z||(Z={}));var H=r.ccclass,W=r.property;t("UIGridView",(v=H("UIGridView"),z=W(d),R=W({type:l,tooltip:"左边距"}),U=W({type:l,tooltip:"右边距"}),T=W({type:l,tooltip:"上边距"}),C=W({type:l,tooltip:"下边距"}),P=W({type:l,tooltip:"SpaceY 行间距（水平模式下，会自动修正非法数值）"}),L=W({type:l,tooltip:"SpaceX 列间距（垂直模式下，会自动修正非法数值）"}),x=W({type:c(Z),tooltip:"水平还是垂直滚动；垂直滚动模式下，宽度不变，高度自动计算；水平模式下，高度不变，宽度自动计算"}),A=W({tooltip:"关闭自适应位置"}),v((V=i((E=function(t){function i(){for(var i,e=arguments.length,o=new Array(e),a=0;a<e;a++)o[a]=arguments[a];return i=t.call.apply(t,[this].concat(o))||this,n(i,"scroll",V,s(i)),n(i,"paddingLeft",k,s(i)),n(i,"paddingRight",N,s(i)),n(i,"paddingTop",D,s(i)),n(i,"paddingBottom",B,s(i)),n(i,"spacingRow",O,s(i)),n(i,"spacingCol",M,s(i)),n(i,"direction",F,s(i)),n(i,"closeAutoAlign",G,s(i)),i._datas=[],i._curShowItems=new Map,i._itemPool=[],i._option={getItem:function(){return null},releaseItem:function(){},onInit:function(){}},i._numPerUnit=0,i._itemSize=new g(0),i._startIndex=0,i._totalDisplayNum=0,i._delayUpdateInfo=null,i._extraUnits=[],i._marginLeft=0,i._marginRight=0,i._marginTop=0,i._marginBottom=0,i._originSpacing=p.ZERO,i}e(i,t);var h=i.prototype;return h.onLoad=function(){this.scroll&&this.scroll.node.on("scrolling",this._onScroll,this),this._datas=[],this._curShowItems.clear(),this._itemPool=[],this._extraUnits=[];var t=this.scroll.content.getComponent(u);this.direction===Z.HORIZONTAL?(this.scroll.horizontal=!0,this.scroll.vertical=!1,t.setAnchorPoint(0,.5)):(this.scroll.horizontal=!1,this.scroll.vertical=!0,t.setAnchorPoint(.5,1)),this._originSpacing=_(this.spacingCol,this.spacingRow)},h.onDestroy=function(){(this._curShowItems.size>0||this._itemPool.length>0)&&w.warn("UIGridView","还有资源没有释放，释放之前要记得先调用 clear"),this.scroll&&this.scroll.node&&this.scroll.node.off("scrolling",this._onScroll,this)},h._onScroll=function(){this.updateScroll()},h.getLeftPendding=function(){return this.paddingLeft+this._marginLeft},h.addItems=function(t,i){var e=this;void 0===i&&(i=!0),this._option?(t.forEach((function(t){var n=e._keyToIndex(t.key);n>=0?i&&(e._datas[n].data=t.data,e._datas[n].uiState=t.uiState,e._datas[n].dirty=!0):e._datas.push(t)})),this.updateScroll()):w.warn("UIGridView","should init UIGridView first.")},h.updateDatas=function(t){if(this._option){this._datas=t,this._computeBaseInfo(),this.updateScroll(!0);for(var i=0;i<this._datas.length;++i)this.updateItem(t[i])}else w.warn("UIGridView","should init UIGridView first.")},h.updateItem=function(t,i){void 0===i&&(i=!1);var e=this._infoToItem(t);e&&this._option.onInit(e,t);var n=this._keyToIndex(t.key);if(n>=0)this._datas[n].data=t.data,this._datas[n].uiState=t.uiState;else if(i){if(this._option.sortFunc){for(var s=0,o=0;o<this._datas.length;++o)if(this._option.sortFunc(this._datas[o],t)>=0){s=o;break}this._datas.splice(s,0,t)}else this._datas.push(t);this.updateScroll()}},h.getItems=function(){return this._curShowItems},h.scrollTo=function(t,i){void 0===i&&(i=.2);var e=this._keyToIndex(t.key);if(e>=0)if(this.direction===Z.VERTICAL){var n=Math.floor(e/this._numPerUnit),s=this.startPad+n*this._itemSize.height+n*this.spacingRow;this.scroll.scrollToOffset(_(0,s),i,!0)}else{var o=this.startPad+e*this._itemSize.width+(e-1)*this.spacingCol;this.scroll.scrollToOffset(_(o,0),i,!0)}},h.getGridData=function(t){var i=this._keyToIndex(t);if(i>=0&&i<this._datas.length){var e=o({},this._datas[i]),n=this._infoToItem(e);return n&&(e.uiState=n.uiState),e}return null},h.deleteItem=function(t){var i=this._keyToIndex(t);i>=0&&(this._datas.splice(i,1),this.updateScroll())},h._infoToItem=function(t){return this._curShowItems.get(t.key)},h.getDisplaySize=function(){var t=this.scroll.content.getComponent(u);return this._startIndex>0?t.contentSize:this._totalDisplayNum<this._numPerUnit?this.direction===Z.VERTICAL?new g(this.paddingLeft+this.paddingRight+this._marginLeft+this._marginRight+this._itemSize.width*this._totalDisplayNum+this.varyingSpace*(this._totalDisplayNum-1),this.paddingTop+this.paddingBottom+this._marginTop+this._marginBottom+this._itemSize.height):new g(this.paddingLeft+this.paddingRight+this._marginLeft+this._marginRight+this._itemSize.width,this.paddingTop+this.paddingBottom+this._marginTop+this._marginBottom+this._itemSize.width*this._totalDisplayNum+this.varyingSpace*(this._totalDisplayNum-1)):t.contentSize},h._keyToIndex=function(t){var i=-1;return this._datas.some((function(e,n){return e.key==t&&(i=n,!0)})),i},h._computeBaseInfo=function(){var t=this._getOneItem();this._itemSize=y.getNodeSizeWithScale(t.node),this._putOneItem(t),0!=this._itemSize.width&&0!=this._itemSize.height||(w.warn("GridView","item size must not be ZERO"),this._itemSize.width=Math.max(this._itemSize.width,1),this._itemSize.height=Math.max(this._itemSize.height,1));var i=this.getContentSize(),e=this.scroll.content.getComponent(u);if(this.direction===Z.VERTICAL?i.width<this.paddingLeft+this.paddingRight+this._itemSize.width?(e.width=this.paddingLeft+this.paddingRight+this._itemSize.width,this.spacingCol=0,w.warn("GridView","Item's width is bigger than container width!!!!!!")):this.spacingCol=Math.min(this.spacingCol,i.width-this.paddingLeft-this.paddingRight-this._itemSize.width):i.height<this.paddingTop+this.paddingBottom+this._itemSize.height?(e.height=this.paddingTop+this.paddingBottom+this._itemSize.height,this.spacingRow=0,w.warn("GridView","Item's width is bigger than container Height!!!!!!")):this.spacingRow=Math.min(this.spacingRow,i.height-this.paddingTop-this.paddingBottom-this._itemSize.height),this.direction===Z.VERTICAL?this._numPerUnit=Math.floor((i.width-(this.paddingLeft+this.paddingRight))/(this._itemSize.width+this.varyingSpace)):this._numPerUnit=Math.floor((i.height-(this.paddingTop+this.paddingBottom))/(this._itemSize.height+this.varyingSpace)),0==this.varyingSpace)if(this.direction===Z.VERTICAL){var n=i.width-(this.paddingLeft+this.paddingRight)-this._itemSize.width*this._numPerUnit;this._numPerUnit>1?this.spacingCol=n/(this._numPerUnit-1):(this.spacingCol=0,this._marginLeft=n/2,this._marginRight=n/2)}else{var s=i.height-(this.paddingTop+this.paddingBottom)-this._itemSize.height*this._numPerUnit;this._numPerUnit>1?this.spacingRow=s/(this._numPerUnit-1):(this.spacingRow=0,this._marginTop=s/2,this._marginBottom=s/2)}else if(this.direction===Z.VERTICAL){var o=i.width-(this.paddingLeft+this.paddingRight)-this._itemSize.width*this._numPerUnit-(this._numPerUnit-1)*this.varyingSpace;this._marginLeft=o/2,this._marginRight=o/2}else{var a=i.height-(this.paddingTop+this.paddingBottom)-this._itemSize.height*this._numPerUnit-(this._numPerUnit-1)*this.varyingSpace;this._marginTop=a/2,this._marginBottom=a/2}},h._computeDisplayInfo=function(t){var i=this;void 0===t&&(t=!1);var e=Math.ceil(this._datas.length/this._numPerUnit),n=0,s=this.scroll.content.getComponent(u);this.direction===Z.VERTICAL?(n=this.startPad+this.endPad+this._itemSize.height*e+(e-1)*this.uniformSpace,this._extraUnits&&this._extraUnits.length>0&&this._extraUnits.forEach((function(t){var e=t.node.getComponent(u);n+=e.height*t.node.scale.y+i.uniformSpace})),s.height=n):(n=this.startPad+this.endPad+this._itemSize.width*e+(e-1)*this.uniformSpace,this._extraUnits&&this._extraUnits.length>0&&this._extraUnits.forEach((function(t){var e=t.node.getComponent(u);n+=e.width*t.node.scale.x+i.uniformSpace})),s.width=n);var o=0,a=this.getMaskContentSize(),h=this.direction===Z.VERTICAL?a.height:a.width;if(h>=n)o=this._datas.length;else{var r=(this.direction==Z.VERTICAL?this._itemSize.height:this._itemSize.width)+this.uniformSpace,d=Math.ceil(h/r)+1;o=Math.min(this._datas.length,d*this._numPerUnit)}this._totalDisplayNum=o,t&&!this.closeAutoAlign&&y.alignNode(this.scroll.content,new g(0,0)),this._checkToAutoCenter()},h._checkToAutoCenter=function(){if(this._option.autoCenter){var t=this.getDisplaySize(),i=this.getMaskContentSize();if(this.direction===Z.VERTICAL){if(t.height<i.height){var e=this.scroll.content.parent.getComponent(m);e&&(e.enabled=!1);var n=(i.height-t.height)/2,s=(i.width-t.width)/2;this.closeAutoAlign||y.alignNode(this.scroll.content.parent,new g(s,n))}}else if(t.width<i.width){var o=this.scroll.content.parent.getComponent(m);o&&(o.enabled=!1);var a=(i.height-t.height)/2,h=(i.width-t.width)/2;this.closeAutoAlign||y.alignNode(this.scroll.content.parent,new g(h,a))}}},h._getAlign=function(t){if(!f(t)||!f(t.parent))return g.ZERO;var i=y.getNodeSizeWithScale(t.parent),e=t.parent.getComponent(u),n=i.width*e.anchorX,s=i.height*(1-e.anchorY),o=y.getNodeSizeWithScale(t),a=t.getComponent(u),h=t.position.x+n-o.width*a.anchorX,r=s-(1-a.anchorY)*o.height-t.position.y;return new g(h,r)},h._getStartIndex=function(){var t=0;if(this.direction===Z.VERTICAL){var i=-this._getAlign(this.scroll.content).height;return(t=Math.ceil((i-this.startPad)/(this._itemSize.height+this.uniformSpace)))<1?0:(t-1)*this._numPerUnit}var e=-this._getAlign(this.scroll.content).width;return(t=Math.ceil((e-this.startPad)/(this._itemSize.width+this.uniformSpace)))<1?0:(t-1)*this._numPerUnit},h._getOneItem=function(){return this._option.getItem()},h._putOneItem=function(t){this._option.releaseItem(t)},h.updateScroll=function(t){var i=this;if(void 0===t&&(t=!1),this._computeDisplayInfo(t),this._startIndex=this._getStartIndex(),this._curShowItems.forEach((function(t,e){var n=i._keyToIndex(e);(-1==n||n<i._startIndex||n>=i._startIndex+i._totalDisplayNum)&&(i._curShowItems.delete(e),n>=0&&(i._datas[n].uiState=t.uiState),i._putOneItem(t))})),!(this._delayUpdateInfo&&this._delayUpdateInfo.updatePerFrame>0))for(var e=0;e<this._totalDisplayNum&&e+this._startIndex<this._datas.length;){var n=e+this._startIndex;this._updateOneItem(n),++e}},h.init=function(t,i){this.clear(),i.resetSpacingCol&&(this.spacingCol=i.resetSpacingCol),i.resetSpacingRow&&(this.spacingRow=i.resetSpacingRow),this._datas=[].concat(t),i.sortFunc&&this._datas.sort(i.sortFunc),this._option=i,this._marginLeft=0,this._marginRight=0,this._marginTop=0,this._marginBottom=0,i.updatePerFrame&&i.updatePerFrame>0?this._delayUpdateInfo={updatePerFrame:i.updatePerFrame}:this._delayUpdateInfo=null,i.extraUnits&&(this._extraUnits=i.extraUnits),this._computeBaseInfo(),this.updateScroll(!0)},h._getItemPosition=function(t){if(this.direction===Z.VERTICAL){var i=Math.floor(t/this._numPerUnit),e=Math.floor(t%this._numPerUnit),n=this.paddingLeft+this._marginLeft+e*(this._itemSize.width+this.varyingSpace),s=this.paddingTop+this._marginTop+i*(this._itemSize.height+this.uniformSpace);return S(n,s)}var o=Math.floor(t/this._numPerUnit),a=Math.floor(t%this._numPerUnit),h=this.paddingLeft+this._marginLeft+o*(this._itemSize.width+this.uniformSpace),r=this.paddingTop+this._marginTop+a*(this._itemSize.height+this.varyingSpace);return S(h,r)},h._updateOneItem=function(t){if(t<0||t>=this._datas.length)return!1;var i=!1,e=this._datas[t],n=this._curShowItems.get(e.key);if(n){var s=this._getItemPosition(t);y.alignNode(n.node,new g(s.x,s.y))}else{n=this._getOneItem(),this.scroll.content.addChild(n.node),this._option.onInit(n,e),e.dirty=!1,this._curShowItems.set(e.key,n),n.uiState&&(n.uiState=e.uiState),i=!0;var o=this._getItemPosition(t);y.alignNode(n.node,new g(o.x,o.y))}return e.dirty&&(this._option.onInit(n,e),e.dirty=!1,i=!0),i},h._updateOneExtraUnit=function(t){if(!this._extraUnits||0==this._extraUnits.length)return!1;var i,e=!1;if(this._extraUnits.forEach((function(e){e&&e.index==t&&(i=e)})),i&&f(i.node)){this.scroll.content.addChild(i.node),e=!0;var n=this._getItemPosition(t);this.closeAutoAlign||y.alignNode(i.node,new g(n.x,n.y))}return e},h.itemSize=function(){return this._itemSize},h.contentSize=function(){},h.clear=function(){var t=this;this._datas=[],this._itemSize=g.ZERO,this._delayUpdateInfo=null,this.spacingCol=this._originSpacing.x,this.spacingRow=this._originSpacing.y,this._curShowItems.forEach((function(i,e){i.node.active=!1,t._itemPool.push(i)})),this._curShowItems.clear(),this._itemPool.forEach((function(i){t._option&&t._option.releaseItem&&t._option.releaseItem(i)})),this._itemPool=[],this._extraUnits.forEach((function(t){t&&t.releaseExtra&&t.releaseExtra(t.node)})),this._extraUnits=[]},h.update=function(){if(this._option&&this._delayUpdateInfo&&this._delayUpdateInfo.updatePerFrame>0)for(var t=0,i=0;i<this._totalDisplayNum&&i+this._startIndex<this._datas.length;){var e=i+this._startIndex;if(this._updateOneItem(e)&&++t,++i,t>=this._delayUpdateInfo.updatePerFrame)break}},h.getContentSize=function(){return this.scroll.content.getComponent(u).contentSize},h.getMaskContentSize=function(){return this.scroll.content.parent.getComponent(u).contentSize},a(i,[{key:"numPerUnit",get:function(){return this._numPerUnit}},{key:"totalDisplayNum",get:function(){return this._totalDisplayNum}},{key:"gridDatas",get:function(){return this._datas}},{key:"startPad",get:function(){return this.direction===Z.VERTICAL?this.paddingTop+this._marginTop:this.paddingLeft+this._marginLeft}},{key:"endPad",get:function(){return this.direction===Z.VERTICAL?this.paddingBottom+this._marginBottom:this.paddingRight+this._marginRight}},{key:"varyingSpace",get:function(){return this.direction===Z.VERTICAL?this.spacingCol:this.spacingRow}},{key:"uniformSpace",get:function(){return this.direction===Z.VERTICAL?this.spacingRow:this.spacingCol}}]),i}(I)).prototype,"scroll",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),k=i(E.prototype,"paddingLeft",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),N=i(E.prototype,"paddingRight",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),D=i(E.prototype,"paddingTop",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),B=i(E.prototype,"paddingBottom",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 4}}),O=i(E.prototype,"spacingRow",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),M=i(E.prototype,"spacingCol",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),F=i(E.prototype,"direction",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Z.VERTICAL}}),G=i(E.prototype,"closeAutoAlign",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b=E))||b));h._RF.pop()}}}));

System.register("chunks:///_virtual/UIHelper.ts",["cc","./ViewBaseComponent.ts"],(function(e){"use strict";var n,t,o,i,c,r,a,s;return{setters:[function(e){n=e.cclegacy,t=e.Component,o=e.Node,i=e.isValid,c=e.UITransform,r=e.v2,a=e.Size},function(e){s=e.ViewBaseComponent}],execute:function(){n._RF.push({},"bafe7Y95O1BrYffMx2ZIPg1","UIHelper",void 0);e("uiHelper",function(){function e(){}return e.setActive=function(e,n){void 0===n&&(n=!1),e instanceof t&&e.node?e.node.active=n:e instanceof o&&(e.active=n)},e.alignNode=function(e,n){if(i(e)&&i(e.parent)){var t=e.parent.getComponent(c),o=t.contentSize,a=e.parent.scale,s=r(o.x*a.x,o.y*a.y),u=s.x*t.anchorX,p=s.y*(1-t.anchorY),f=e.getComponent(c),h=f.contentSize,g=e.scale,l=r(h.x*g.x,h.y*g.y),m=f.anchorX*l.x+n.width-u,v=p-((1-f.anchorY)*l.y+n.height);e.setPosition(m,v)}},e.getNodeSizeWithScale=function(e){var n=e.getComponent(c).contentSize,t=e.scale;return new a(n.width*t.x,n.height*t.y)},e.getRootViewComp=function(e){var n=e.getComponent(s);return n||(e.parent?this.getRootViewComp(e.parent):null)},e}());n._RF.pop()}}}));

System.register("chunks:///_virtual/UIManager.ts",["./rollupPluginModLoBabelHelpers.js","cc","./UIConfig2.ts","./ResourceLoader.ts","./Logger.ts"],(function(e){"use strict";var n,i,o,t,a,c,r,s,h;return{setters:[function(e){n=e.createClass},function(e){i=e.cclegacy,o=e.isValid,t=e.instantiate},function(e){a=e.uiConfig,c=e.UI_CACHE,r=e.UI_LOADING},function(e){s=e.resourceLoader},function(e){h=e.Logger}],execute:function(){i._RF.push({},"2eaacgQeDhHmo8mOzA+00uq","UIManager",void 0);var u=[],l=new h("UIManager"),d="MessageBoxView",f=function(){function e(){this._cache=new Map}var n=e.prototype;return n.checkCacheValid=function(e){return this._cache.has(e)},n.loadView=function(e){var n=this;return new Promise((function(i,o){var r,h=a.getConfig(e);n._cache.has(e)?i(null==(r=n._cache.get(e))?void 0:r.node):s.load(h.path).then((function(o){var a=t(o);h.cacheMode===c.NODE&&n._cache.set(e,{name:e,node:a}),i(a)})).catch((function(e){o(e)}))}))},n.getLoadingTag=function(e){var n=a.getConfig(e);return n.loading?n.cacheMode===c.NODE&&this.checkCacheValid(e)||s.checkCacheValid(n.path)?r.NONE:n.loading:r.NONE},e}();e("uiManager",new(function(){function e(){this._sceneNode=null,this._floatTips=null,this._loadingView=null,this._currScene=null,this._isSwitch=void 0,this._waitingView=null,this._guiCache=new f,this._inLoadingScene=null}var i=e.prototype;return i.init=function(e){this._sceneNode=e.sceneNode,this._floatTips=e.tips,this._loadingView=e.loadingView,this._waitingView=e.waitingView},i.loadScene=function(e){for(var n=this,i=arguments.length,o=new Array(i>1?i-1:0),t=1;t<i;t++)o[t-1]=arguments[t];return new Promise((function(i,t){if(n._currScene&&n._currScene.name===e)i(n._currScene.node);else{n._inLoadingScene?t("load scene again!"):(n._inLoadingScene=e,n.loadView.apply(n,[e,n._sceneNode].concat(o)).then((function(e){var o;n._currScene&&n._currScene.closeView(),o=e.node.name,n._sceneNode.children.forEach((function(e){e.name!=o&&-1===u.indexOf(e.name)&&l.warn("残留节点 name = ",e.name)})),n._currScene=e,n._inLoadingScene=null,i(e.node)})).catch((function(i){n._inLoadingScene=null,l.error("loadScene name = "+e+" failed. err = ",i),n.showTips(i),t(i)})))}}))},i.showLoading=function(e){var n;this._isSwitch=!0,null==(n=this._loadingView)||n.show(e)},i.hideLoading=function(){var e;this._isSwitch=!1,null==(e=this._loadingView)||e.hide()},i.showWaiting=function(e){this._waitingView&&this._waitingView.show(e)},i.hideWaiting=function(){this._waitingView&&this._waitingView.hide()},i.loadView=function(e,n){for(var i=this,o=arguments.length,t=new Array(o>2?o-2:0),s=2;s<o;s++)t[s-2]=arguments[s];return n=n||this._sceneNode,l.debug("loadView. name = "+e),new Promise((function(o,s){var h,u,d=a.getConfig(e),f=i._guiCache.getLoadingTag(e),g=function(e){e===r.LOADING?i.hideLoading():e===r.WAITING&&i.hideWaiting()};u=function(){i._guiCache.loadView(e).then((function(i){var a=i,r=null;if(r=d.component?a.getComponent(d.component):a.getComponent("ViewBaseComponent"),d.cacheMode===c.NODE?r.attachToNode(n,e):n.addChild(a),r){var h,u=(h=r).initViewBaseComponent.apply(h,[e].concat(t));"boolean"==typeof u?(g(f),o(r)):u.then((function(){g(f),o(r)}))}else{g(f);var w="Can not find Component for View name = "+e;l.error(w),s(w)}})).catch((function(n){g(f),l.error("loadView name = "+e+" failed. err = ",n),s(n)}))},(h=f)===r.LOADING?i.showLoading((function(){u()})):h===r.WAITING?i.showWaiting((function(){u()})):u()}))},i.releaseView=function(e){if(e.isSharedView())l.warn("SharedView no need to release. name = "+e.name);else if(e.isViewValid()){l.info("releaseView name = "+e.name);var n=e.uiInfo;e.releaseViewBaseComponent(),n.cacheMode!==c.NODE?(e.node.removeFromParent(),e.node.destroy(),s.release(n.path)):e.node.removeFromParent()}},i.checkViewOpenInScene=function(e,n){return this._findHierarchyChild(e,o(n)?n:this._sceneNode)},i.showLockTips=function(){this.showTips("敬请期待，尚未开放")},i.showTips=function(e,n){var i;void 0===n&&(n=0),null==(i=this._floatTips)||i.show("<color=#000000}>"+e+"</color>",n)},i.preloadView=function(e){return this._guiCache.loadView(e)},i.showMessageBox=function(e){return this.loadView(d,this._sceneNode,e)},i.closeMessageBox=function(e){var n=this;this._sceneNode&&this._sceneNode.children.filter((function(n){return n.name===(e||d)})).forEach((function(e){var i=e.getComponent(d);i&&n.releaseView(i)}))},i.currScene=function(){return this._currScene.name},i.isSwitch=function(){return this._isSwitch},i._findHierarchyChild=function(e,n){if(!n)return null;if(0==n.children.length)return null;if(n.getChildByName(e))return n.getChildByName(e);for(var i=0;i<n.children.length;i++){var o=this._findHierarchyChild(e,n.children[i]);if(o)return o}return null},n(e,[{key:"sceneNode",get:function(){return this._sceneNode}}]),e}()));i._RF.pop()}}}));

System.register("chunks:///_virtual/Utils.ts",["cc","./AppConst.ts"],(function(t){"use strict";var n,e,r,o,i,u,a;return{setters:[function(t){n=t.cclegacy},function(t){e=t.mapMaxWidth,r=t.mapMaxHeight,o=t.mapItemCol,i=t.typeUniversal,u=t.mapItemAddSpaceWidth,a=t.mapItemAddSpaceHeight}],execute:function(){n._RF.push({},"0a389G/WdpGUoD6oUv/crli","Utils",void 0);t("default",function(){function t(){}return t.countPosToDataIndex=function(t,n){if(t>e||n>r)return-1;var i=this.countPosToDirectIndex(t,n);return i.idx_x+i.idx_y*o},t.countPosToDirectIndex=function(t,n){return{idx_x:Math.floor(t/u),idx_y:Math.floor(n/a)}},t.getRandom=function(t,n){return Math.floor(Math.random()*(n-t+1))+t},t.getRandomByPercente=function(t){for(var n=this.getRandom(1,100),e=0,r=0;r<t.length;r++)if(n<=(e+=t[r]))return r;return 0},t.pushToArr=function(t,n){return t.indexOf(n)<0&&(t.push(n),!0)},t.isUniversalCard=function(t){return t===i},t}());n._RF.pop()}}}));

System.register("chunks:///_virtual/ViewBaseComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts","./StepWork.ts","./UIConfig2.ts","./UIManager.ts"],(function(e){"use strict";var n,t,i,o,r,s,u,a,c,h,f;return{setters:[function(e){n=e.inheritsLoose,t=e.createClass},function(e){i=e.cclegacy,o=e._decorator,r=e.isValid,s=e.Component},function(e){u=e.logger},function(e){a=e.StepWork},function(e){c=e.uiConfig,h=e.UI_CACHE},function(e){f=e.uiManager}],execute:function(){var l;i._RF.push({},"50843xbZfRPXpbmwJKi7ZS1","ViewBaseComponent",void 0);var w=o.ccclass;o.property,e("ViewBaseComponent",w("ViewBaseComponent")(l=function(e){function i(){for(var n,t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return(n=e.call.apply(e,[this].concat(i))||this)._subView=[],n._uiInfo=null,n._stepWork=new a,n._enterCounter=0,n}n(i,e);var o=i.prototype;return o.initViewBaseComponent=function(e){this._uiInfo=c.getConfig(e),this._enterCounter++;for(var n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];return this.onInit.apply(this,t),this._checkAndExecStepWork()},o.isViewValid=function(){return null!=this._uiInfo&&r(this.node)},o.isSharedView=function(){return this.isViewValid()&&this._uiInfo.cacheMode===h.NODE},o.releaseViewBaseComponent=function(){this.onRelease(),this._uiInfo=null},o.onDestroy=function(){},o.closeView=function(){this.isSharedView()?this._sharedViewClose():f.releaseView(this)},o.loadSubView=function(e){for(var n=this,t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return new Promise((function(t,o){c.getConfig(e).cacheMode===h.NODE?o("Shared View should load by uiManager.loadView"):f.loadView.apply(f,[e,n.node].concat(i)).then((function(e){n._subView.push(e),t(e)})).catch((function(e){o(e)}))}))},o.releaseSubView=function(){this._subView.forEach((function(e){f.releaseView(e)})),this._subView=[]},o.onInit=function(){u.warn("ViewBaseComponent","need overwrite onInit for view "+this.name)},o.onRelease=function(){},o.addStepTask=function(e,n,t){return void 0===n&&(n="defaultTask"),void 0===t&&(t=0),this._stepWork.addTask(e,n,t),this},o._checkAndExecStepWork=function(){var e=this;return 0===this._stepWork.length||new Promise((function(n,t){e._stepWork.start((function(){n(!0)}))}))},o._sharedViewClose=function(){this.isSharedView()&&r(this.node.parent)&&(this.releaseViewBaseComponent(),this.node.removeFromParent())},o._getSpriteFrame=function(e,n){if(!(n instanceof Array))return null;for(var t=0;t<n.length;t++){var i=n[t];if(i.name==e)return i}return null},o.attachToNode=function(e,n){this._uiInfo&&this._uiInfo.cacheMode!==h.NODE?u.error("ViewBaseComponent","You cant not call this function while view is not sharedView"):(this._sharedViewClose(),e.addChild(this.node),this.node.name=n)},t(i,[{key:"enterCount",get:function(){return this._enterCounter}},{key:"uiInfo",get:function(){return this._uiInfo}},{key:"name",get:function(){return this._uiInfo?this._uiInfo.id:"unknownView"}},{key:"stepWork",get:function(){return this._stepWork}}]),i}(s))||l);i._RF.pop()}}}));

System.register("chunks:///_virtual/WaitingView.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){"use strict";var i,e,n,o;return{setters:[function(t){i=t.inheritsLoose},function(t){e=t.cclegacy,n=t._decorator,o=t.Component}],execute:function(){var r;e._RF.push({},"5e354OyJWpKHZvCAay0BJ9W","WaitingView",void 0);var c=n.ccclass;n.property,t("WaitingView",c("WaitingView")(r=function(t){function e(){return t.apply(this,arguments)||this}i(e,t);var n=e.prototype;return n.show=function(t){this.node.active=!0,t&&t()},n.hide=function(){this.node.active=!1},e}(o))||r);e._RF.pop()}}}));

System.register("chunks:///_virtual/WatcherComponent.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var t,n,r,o,s,a;return{setters:[function(e){t=e.inheritsLoose},function(e){n=e.cclegacy,r=e._decorator,o=e.Node,s=e.Component},function(e){a=e.logger}],execute:function(){var i;n._RF.push({},"181edj1mDFE3amGTpqiihO4","WatcherComponent",void 0);var h=r.ccclass;r.property,e("default",h(i=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(t=e.call.apply(e,[this].concat(r))||this)._watchers=new Map,t._destroyHandler=null,t._listenedChildren=!1,t}t(n,e);var r=n.prototype;return r.onDisable=function(){var e=this;this._watchers.forEach((function(t,n){t.onDisable(),t.keepAfterCall||e._watchers.delete(n)})),this.node.off(o.EventType.CHILD_REMOVED,this._onChildrenRemoved,this),this._destroyHandler&&this._destroyHandler(this.node.uuid),this.destroy()},r.setDestroyHandler=function(e){this._destroyHandler=e},r.addWatcher=function(e,t){this._watchers.has(e)&&a.warn("key = "+e+" already exits. parent = "+t.parent.name),this._watchers.set(e,t),this._listenedChildren||(this.node.on(o.EventType.CHILD_REMOVED,this._onChildrenRemoved,this),this._listenedChildren=!0)},r.removeWatcher=function(e){this._watchers.delete(e)},r._onChildrenRemoved=function(e){var t=this,n=new Map;this._watchers.forEach((function(e,t){n.set(t,e)}));var r=[];n.forEach((function(t,n){t.node===e&&(t.onDisable(),a.warn("WatcherHelper","Parent has changed. watcher on disable. node = "+e.name),t.keepAfterCall||r.push(n))})),r.forEach((function(e){t._watchers.delete(e)}))},n}(s))||i);n._RF.pop()}}}));

System.register("chunks:///_virtual/WatcherHelper.ts",["cc","./WatcherComponent.ts"],(function(e){"use strict";var t,n,r;return{setters:[function(e){t=e.cclegacy,n=e.isValid},function(e){r=e.default}],execute:function(){t._RF.push({},"bff708YDgVAl4ftTy131/1+","WatcherHelper",void 0);var u=new Map;e("WatcherHelper",function(){function e(){}return e.addWatcher=function(e){var t=e.node.uuid,n=e.parent.getComponent(r);return n||(n=e.parent.addComponent(r),u.set(e.parent.uuid,n),n.setDestroyHandler((function(e){u.delete(e)}))),n.addWatcher(t,e),t},e.removeWatcher=function(e){if(n(e)&&n(e.parent)){var t=e.parent.getComponent(r);t&&t.removeWatcher(e.uuid)}},e.removeWatcherOnNode=function(e){u.forEach((function(t,r){!function(t){for(var r=t.node;n(r);){if(r.uuid===e.uuid)return t.enabled=!1,!0;r=r.parent}}(t)}))},e}());t._RF.pop()}}}));

System.register("chunks:///_virtual/WebsocketRequest.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Logger.ts"],(function(e){"use strict";var t,o,n,s;return{setters:[function(e){t=e.asyncToGenerator,o=e.regeneratorRuntime},function(e){n=e.cclegacy},function(e){s=e.logger}],execute:function(){n._RF.push({},"57d34aoOCRBZodba4kUu+v+","WebsocketRequest",void 0);e("default",function(){function e(){this._socket=void 0}var n=e.prototype;return n.connect=function(){var e=t(o().mark((function e(t,n,c,r,u,i){var k=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,o){k.close(),k._socket=new WebSocket(t),s.debug("websocket connect: "+t),k._socket.binaryType=n,k._socket.onopen=function(t){s.debug("websocket-open",t.type),r&&r(t.type),e(!0)},k._socket.onclose=function(t){s.debug("websocket-close",t.code),u&&u(t.code),e(!1)},k._socket.onerror=function(t){s.debug("websocket-error",t.type),i&&i(t.type),e(!1)},k._socket.onmessage=function(e){c&&c(e.data)}})));case 1:case"end":return e.stop()}}),e)})));return function(t,o,n,s,c,r){return e.apply(this,arguments)}}(),n.close=function(){this._socket?(this._socket.onopen=null,this._socket.onclose=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.close(),s.debug("websocket do close")):s.debug("websocket is not init"),this._socket=null},n.isOpen=function(){return!!this._socket&&this._socket.readyState===WebSocket.OPEN},n.send=function(e){this._socket&&this.isOpen()?this._socket.send(e):s.debug("websocket is not open")},e}());n._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});